{"version":3,"file":"RecordListView-fjYwK9Oa.js","sources":["../../src/views/records/RecordListView.vue"],"sourcesContent":["<template>\r\n  <div class=\"record-list\">\r\n    <!-- 搜索和操作栏 -->\r\n    <el-card class=\"search-card\" shadow=\"never\">\r\n      <el-form :model=\"searchForm\" inline class=\"search-form\">\r\n        <el-form-item label=\"关键词\">\r\n          <el-input\r\n            v-model=\"searchForm.keyword\"\r\n            placeholder=\"搜索标题或内容\"\r\n            clearable\r\n            @keyup.enter=\"handleSearch\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"记录类型\">\r\n          <el-select\r\n            v-model=\"searchForm.type\"\r\n            placeholder=\"选择记录类型\"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for=\"type in recordTypes\"\r\n              :key=\"type.id\"\r\n              :label=\"type.name\"\r\n              :value=\"type.name\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"状态\">\r\n          <el-select\r\n            v-model=\"searchForm.status\"\r\n            placeholder=\"选择状态\"\r\n            clearable\r\n          >\r\n            <el-option label=\"草稿\" value=\"draft\" />\r\n            <el-option label=\"已发布\" value=\"published\" />\r\n            <el-option label=\"已归档\" value=\"archived\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"创建时间\">\r\n          <el-date-picker\r\n            v-model=\"searchForm.dateRange\"\r\n            type=\"daterange\"\r\n            range-separator=\"至\"\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"结束日期\"\r\n            format=\"YYYY-MM-DD\"\r\n            value-format=\"YYYY-MM-DD\"\r\n          />\r\n        </el-form-item>\r\n        \r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"handleSearch\">\r\n            <el-icon><Search /></el-icon>\r\n            搜索\r\n          </el-button>\r\n          <el-button @click=\"handleReset\">\r\n            <el-icon><Refresh /></el-icon>\r\n            重置\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <div class=\"action-bar\">\r\n        <div class=\"action-left\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"handleCreate\"\r\n            v-if=\"authStore.hasPermission('records', 'write')\"\r\n          >\r\n            <el-icon><Plus /></el-icon>\r\n            新建记录\r\n          </el-button>\r\n          \r\n          <el-button\r\n            type=\"success\"\r\n            @click=\"handleBatchImport\"\r\n            v-if=\"authStore.hasPermission('records', 'write')\"\r\n          >\r\n            <el-icon><Upload /></el-icon>\r\n            批量导入\r\n          </el-button>\r\n          \r\n          <el-button\r\n            type=\"warning\"\r\n            @click=\"handleBatchExport\"\r\n            :disabled=\"selectedRecords.length === 0\"\r\n          >\r\n            <el-icon><Download /></el-icon>\r\n            批量导出\r\n          </el-button>\r\n        </div>\r\n        \r\n        <div class=\"action-right\">\r\n          <el-tooltip content=\"刷新\">\r\n            <el-button circle @click=\"loadRecords\">\r\n              <el-icon><Refresh /></el-icon>\r\n            </el-button>\r\n          </el-tooltip>\r\n          \r\n          <el-tooltip content=\"列表视图\">\r\n            <el-button\r\n              circle\r\n              :type=\"viewMode === 'list' ? 'primary' : 'default'\"\r\n              @click=\"viewMode = 'list'\"\r\n            >\r\n              <el-icon><List /></el-icon>\r\n            </el-button>\r\n          </el-tooltip>\r\n          \r\n          <el-tooltip content=\"卡片视图\">\r\n            <el-button\r\n              circle\r\n              :type=\"viewMode === 'card' ? 'primary' : 'default'\"\r\n              @click=\"viewMode = 'card'\"\r\n            >\r\n              <el-icon><Grid /></el-icon>\r\n            </el-button>\r\n          </el-tooltip>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 记录列表 -->\r\n    <el-card class=\"list-card\" v-loading=\"loading\">\r\n      <!-- 列表视图 -->\r\n      <el-table\r\n        v-if=\"viewMode === 'list'\"\r\n        :data=\"records\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        stripe\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\" />\r\n        \r\n        <el-table-column prop=\"title\" label=\"标题\" min-width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            <el-link\r\n              type=\"primary\"\r\n              @click=\"handleView(row)\"\r\n              :underline=\"false\"\r\n            >\r\n              {{ row.title }}\r\n            </el-link>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n        <el-table-column prop=\"type\" label=\"类型\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag size=\"small\">{{ row.type }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag\r\n              :type=\"getStatusType(row.status)\"\r\n              size=\"small\"\r\n            >\r\n              {{ getStatusText(row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n        <el-table-column prop=\"creator\" label=\"创建者\" width=\"120\">\r\n          <template #default=\"{ row }\">\r\n            {{ row.creator?.username || '未知' }}\r\n          </template>\r\n        </el-table-column>\r\n        \r\n        <el-table-column prop=\"createdAt\" label=\"创建时间\" width=\"180\">\r\n          <template #default=\"{ row }\">\r\n            {{ formatTime(row.createdAt) }}\r\n          </template>\r\n        </el-table-column>\r\n        \r\n        <el-table-column label=\"操作\" width=\"200\" fixed=\"right\">\r\n          <template #default=\"{ row }\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click=\"handleView(row)\"\r\n            >\r\n              查看\r\n            </el-button>\r\n            \r\n            <el-button\r\n              type=\"warning\"\r\n              size=\"small\"\r\n              @click=\"handleEdit(row)\"\r\n              v-if=\"canEdit(row)\"\r\n            >\r\n              编辑\r\n            </el-button>\r\n            \r\n            <el-popconfirm\r\n              title=\"确定要删除这条记录吗？\"\r\n              @confirm=\"handleDelete(row)\"\r\n              v-if=\"canDelete(row)\"\r\n            >\r\n              <template #reference>\r\n                <el-button type=\"danger\" size=\"small\">\r\n                  删除\r\n                </el-button>\r\n              </template>\r\n            </el-popconfirm>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 卡片视图 -->\r\n      <div v-else class=\"card-view\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col\r\n            :xs=\"24\"\r\n            :sm=\"12\"\r\n            :md=\"8\"\r\n            :lg=\"6\"\r\n            v-for=\"record in records\"\r\n            :key=\"record.id\"\r\n            class=\"record-card-col\"\r\n          >\r\n            <el-card class=\"record-card\" shadow=\"hover\" @click=\"handleView(record)\">\r\n              <div class=\"card-header\">\r\n                <h3>{{ record.title }}</h3>\r\n                <el-tag :type=\"getStatusType(record.status)\" size=\"small\">\r\n                  {{ getStatusText(record.status) }}\r\n                </el-tag>\r\n              </div>\r\n              \r\n              <div class=\"card-content\">\r\n                <p class=\"record-type\">{{ record.type }}</p>\r\n                <p class=\"record-time\">{{ formatTime(record.createdAt) }}</p>\r\n                <p class=\"record-creator\">创建者：{{ record.creator?.username || '未知' }}</p>\r\n              </div>\r\n              \r\n              <div class=\"card-actions\" @click.stop>\r\n                <el-button size=\"small\" @click=\"handleView(record)\">\r\n                  查看\r\n                </el-button>\r\n                <el-button\r\n                  size=\"small\"\r\n                  type=\"warning\"\r\n                  @click=\"handleEdit(record)\"\r\n                  v-if=\"canEdit(record)\"\r\n                >\r\n                  编辑\r\n                </el-button>\r\n                <el-popconfirm\r\n                  title=\"确定要删除这条记录吗？\"\r\n                  @confirm=\"handleDelete(record)\"\r\n                  v-if=\"canDelete(record)\"\r\n                >\r\n                  <template #reference>\r\n                    <el-button size=\"small\" type=\"danger\">\r\n                      删除\r\n                    </el-button>\r\n                  </template>\r\n                </el-popconfirm>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <!-- 分页 -->\r\n      <div class=\"pagination-wrapper\">\r\n        <el-pagination\r\n          v-model:current-page=\"pagination.page\"\r\n          v-model:page-size=\"pagination.pageSize\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          :total=\"pagination.total\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handlePageChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 批量导入对话框 -->\r\n    <el-dialog\r\n      v-model=\"importDialogVisible\"\r\n      title=\"批量导入记录\"\r\n      width=\"600px\"\r\n    >\r\n      <el-upload\r\n        ref=\"uploadRef\"\r\n        :action=\"uploadAction\"\r\n        :headers=\"uploadHeaders\"\r\n        :on-success=\"handleImportSuccess\"\r\n        :on-error=\"handleImportError\"\r\n        :before-upload=\"beforeImportUpload\"\r\n        drag\r\n        accept=\".xlsx,.xls,.csv\"\r\n      >\r\n        <el-icon class=\"el-icon--upload\"><upload-filled /></el-icon>\r\n        <div class=\"el-upload__text\">\r\n          将文件拖到此处，或<em>点击上传</em>\r\n        </div>\r\n        <template #tip>\r\n          <div class=\"el-upload__tip\">\r\n            只能上传 xlsx/xls/csv 文件，且不超过 10MB\r\n          </div>\r\n        </template>\r\n      </el-upload>\r\n      \r\n      <template #footer>\r\n        <el-button @click=\"importDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"downloadTemplate\">\r\n          下载模板\r\n        </el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted, computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { http } from '@/utils/request'\r\nimport { API_ENDPOINTS } from '@/config/api'\r\nimport type { Record, RecordType, PaginatedResponse } from '@/types'\r\nimport dayjs from 'dayjs'\r\n\r\nconst router = useRouter()\r\nconst authStore = useAuthStore()\r\n\r\n// 响应式数据\r\nconst loading = ref(false)\r\nconst viewMode = ref<'list' | 'card'>('list')\r\nconst records = ref<Record[]>([])\r\nconst recordTypes = ref<RecordType[]>([])\r\nconst selectedRecords = ref<Record[]>([])\r\nconst importDialogVisible = ref(false)\r\n\r\n// 搜索表单\r\nconst searchForm = reactive({\r\n  keyword: '',\r\n  type: '',\r\n  status: '',\r\n  dateRange: null as [string, string] | null\r\n})\r\n\r\n// 分页\r\nconst pagination = reactive({\r\n  page: 1,\r\n  pageSize: 20,\r\n  total: 0\r\n})\r\n\r\n// 上传配置\r\nconst uploadAction = computed(() => API_ENDPOINTS.RECORDS.IMPORT)\r\nconst uploadHeaders = computed(() => ({\r\n  Authorization: `Bearer ${authStore.token}`\r\n}))\r\n\r\n// 方法\r\nconst formatTime = (time: string) => {\r\n  return dayjs(time).format('YYYY-MM-DD HH:mm')\r\n}\r\n\r\nconst getStatusType = (status: string) => {\r\n  const statusMap: Record<string, string> = {\r\n    draft: 'info',\r\n    published: 'success',\r\n    archived: 'warning'\r\n  }\r\n  return statusMap[status] || 'info'\r\n}\r\n\r\nconst getStatusText = (status: string) => {\r\n  const statusMap: Record<string, string> = {\r\n    draft: '草稿',\r\n    published: '已发布',\r\n    archived: '已归档'\r\n  }\r\n  return statusMap[status] || status\r\n}\r\n\r\nconst canEdit = (record: Record) => {\r\n  return authStore.hasPermission('records', 'write') && \r\n         (authStore.hasPermission('records', 'write', 'all') || record.createdBy === authStore.user?.id)\r\n}\r\n\r\nconst canDelete = (record: Record) => {\r\n  return authStore.hasPermission('records', 'delete') && \r\n         (authStore.hasPermission('records', 'delete', 'all') || record.createdBy === authStore.user?.id)\r\n}\r\n\r\n// 加载记录列表\r\nconst loadRecords = async () => {\r\n  try {\r\n    loading.value = true\r\n    \r\n    const params: any = {\r\n      page: pagination.page,\r\n      pageSize: pagination.pageSize\r\n    }\r\n    \r\n    if (searchForm.keyword) {\r\n      params.keyword = searchForm.keyword\r\n    }\r\n    \r\n    if (searchForm.type) {\r\n      params.type = searchForm.type\r\n    }\r\n    \r\n    if (searchForm.status) {\r\n      params.status = searchForm.status\r\n    }\r\n    \r\n    if (searchForm.dateRange) {\r\n      params.startDate = searchForm.dateRange[0]\r\n      params.endDate = searchForm.dateRange[1]\r\n    }\r\n    \r\n    const response = await http.get<PaginatedResponse<Record>>(\r\n      API_ENDPOINTS.RECORDS.LIST,\r\n      { params }\r\n    )\r\n    \r\n    records.value = response.items\r\n    pagination.total = response.total\r\n    \r\n  } catch (error) {\r\n    console.error('Failed to load records:', error)\r\n    ElMessage.error('加载记录列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 加载记录类型\r\nconst loadRecordTypes = async () => {\r\n  try {\r\n    const response = await http.get<RecordType[]>(API_ENDPOINTS.RECORD_TYPES.LIST)\r\n    recordTypes.value = response\r\n  } catch (error) {\r\n    console.error('Failed to load record types:', error)\r\n  }\r\n}\r\n\r\n// 搜索处理\r\nconst handleSearch = () => {\r\n  pagination.page = 1\r\n  loadRecords()\r\n}\r\n\r\nconst handleReset = () => {\r\n  Object.assign(searchForm, {\r\n    keyword: '',\r\n    type: '',\r\n    status: '',\r\n    dateRange: null\r\n  })\r\n  pagination.page = 1\r\n  loadRecords()\r\n}\r\n\r\n// 分页处理\r\nconst handlePageChange = (page: number) => {\r\n  pagination.page = page\r\n  loadRecords()\r\n}\r\n\r\nconst handleSizeChange = (size: number) => {\r\n  pagination.pageSize = size\r\n  pagination.page = 1\r\n  loadRecords()\r\n}\r\n\r\n// 选择处理\r\nconst handleSelectionChange = (selection: Record[]) => {\r\n  selectedRecords.value = selection\r\n}\r\n\r\n// 操作处理\r\nconst handleCreate = () => {\r\n  router.push('/records/create')\r\n}\r\n\r\nconst handleView = (record: Record) => {\r\n  router.push(`/records/${record.id}`)\r\n}\r\n\r\nconst handleEdit = (record: Record) => {\r\n  router.push(`/records/${record.id}/edit`)\r\n}\r\n\r\nconst handleDelete = async (record: Record) => {\r\n  try {\r\n    await http.delete(API_ENDPOINTS.RECORDS.DELETE(record.id))\r\n    ElMessage.success('删除成功')\r\n    loadRecords()\r\n  } catch (error) {\r\n    console.error('Failed to delete record:', error)\r\n    ElMessage.error('删除失败')\r\n  }\r\n}\r\n\r\nconst handleBatchImport = () => {\r\n  importDialogVisible.value = true\r\n}\r\n\r\nconst handleBatchExport = async () => {\r\n  try {\r\n    const recordIds = selectedRecords.value.map(record => record.id)\r\n    \r\n    const response = await http.post(\r\n      API_ENDPOINTS.EXPORT.RECORDS,\r\n      {\r\n        recordIds,\r\n        format: 'excel'\r\n      },\r\n      { responseType: 'blob' }\r\n    )\r\n    \r\n    // 创建下载链接\r\n    const blob = new Blob([response], {\r\n      type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\r\n    })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    link.download = `records_${dayjs().format('YYYY-MM-DD')}.xlsx`\r\n    link.click()\r\n    window.URL.revokeObjectURL(url)\r\n    \r\n    ElMessage.success('导出成功')\r\n  } catch (error) {\r\n    console.error('Failed to export records:', error)\r\n    ElMessage.error('导出失败')\r\n  }\r\n}\r\n\r\n// 导入处理\r\nconst beforeImportUpload = (file: File) => {\r\n  const isValidType = ['application/vnd.ms-excel', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'text/csv'].includes(file.type)\r\n  const isLt10M = file.size / 1024 / 1024 < 10\r\n  \r\n  if (!isValidType) {\r\n    ElMessage.error('只能上传 Excel 或 CSV 文件')\r\n    return false\r\n  }\r\n  \r\n  if (!isLt10M) {\r\n    ElMessage.error('文件大小不能超过 10MB')\r\n    return false\r\n  }\r\n  \r\n  return true\r\n}\r\n\r\nconst handleImportSuccess = (response: any) => {\r\n  ElMessage.success(`导入成功，共导入 ${response.count} 条记录`)\r\n  importDialogVisible.value = false\r\n  loadRecords()\r\n}\r\n\r\nconst handleImportError = (error: any) => {\r\n  console.error('Import failed:', error)\r\n  ElMessage.error('导入失败')\r\n}\r\n\r\nconst downloadTemplate = () => {\r\n  // 下载导入模板\r\n  const link = document.createElement('a')\r\n  link.href = '/templates/record_import_template.xlsx'\r\n  link.download = 'record_import_template.xlsx'\r\n  link.click()\r\n}\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  loadRecords()\r\n  loadRecordTypes()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.record-list {\r\n  padding: 0;\r\n}\r\n\r\n.search-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-form {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.action-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.action-left {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.action-right {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.list-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-view {\r\n  min-height: 400px;\r\n}\r\n\r\n.record-card-col {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.record-card {\r\n  height: 200px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.record-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.card-header h3 {\r\n  margin: 0;\r\n  font-size: 16px;\r\n  color: #303133;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  flex: 1;\r\n  margin-right: 8px;\r\n}\r\n\r\n.card-content {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.card-content p {\r\n  margin: 0 0 4px 0;\r\n  font-size: 13px;\r\n  color: #909399;\r\n}\r\n\r\n.record-type {\r\n  color: #409eff !important;\r\n  font-weight: 500;\r\n}\r\n\r\n.card-actions {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.pagination-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .search-form {\r\n    display: block;\r\n  }\r\n  \r\n  .search-form .el-form-item {\r\n    display: block;\r\n    margin-bottom: 16px;\r\n  }\r\n  \r\n  .action-bar {\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .action-left,\r\n  .action-right {\r\n    justify-content: center;\r\n  }\r\n  \r\n  .record-card {\r\n    height: auto;\r\n    min-height: 180px;\r\n  }\r\n  \r\n  .card-actions {\r\n    flex-wrap: wrap;\r\n  }\r\n}\r\n</style>"],"names":["router","useRouter","authStore","useAuthStore","loading","ref","viewMode","records","recordTypes","selectedRecords","importDialogVisible","searchForm","reactive","pagination","uploadAction","computed","API_ENDPOINTS","uploadHeaders","formatTime","time","dayjs","getStatusType","status","getStatusText","canEdit","record","_a","canDelete","loadRecords","params","response","http","error","ElMessage","loadRecordTypes","handleSearch","handleReset","handlePageChange","page","handleSizeChange","size","handleSelectionChange","selection","handleCreate","handleView","handleEdit","handleDelete","handleBatchImport","handleBatchExport","recordIds","blob","url","link","beforeImportUpload","file","isValidType","isLt10M","handleImportSuccess","handleImportError","downloadTemplate","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_component_el_form","_component_el_form_item","_component_el_input","_cache","$event","_component_el_select","_Fragment","_renderList","type","_createBlock","_component_el_option","_component_el_date_picker","_component_el_button","_component_el_icon","_component_Search","_component_Refresh","_createElementVNode","_hoisted_2","_hoisted_3","_unref","_component_Plus","_component_Upload","_component_Download","_hoisted_4","_component_el_tooltip","_component_List","_component_Grid","_component_el_table","_component_el_table_column","_withCtx","row","_component_el_link","_createTextVNode","_toDisplayString","_component_el_tag","_component_el_popconfirm","_hoisted_5","_component_el_row","_component_el_col","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_el_pagination","_component_el_dialog","_component_el_upload","_component_upload_filled"],"mappings":"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"}