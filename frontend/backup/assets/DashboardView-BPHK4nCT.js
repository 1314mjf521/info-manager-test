import{_ as j}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                 *//* empty css                *//* empty css               */import{y as q,r as _,h as Q,z as l,R as s,J as t,n as $,Q as f,a6 as h,B as o,aB as G,al as A,A as n,I as d,D as J,M,P as c,E as K,O as x}from"./vendor-B2dHd6i_.js";import{h as D,A as S}from"./index-Co-C_Vux.js";import{y as W,z as X,A as Z,B as ee,C as te,l as se,D as ae,F as oe,G as ne,E as ce}from"./element-CUclIBtA.js";import"./utils-xdQVjYpF.js";const le={class:"dashboard"},re={class:"stat-content"},ie={class:"stat-info"},de={class:"stat-value"},ue={class:"stat-title"},_e={class:"chart-container"},pe={class:"chart-container"},me={class:"timeline-content"},fe={key:0,class:"empty-state"},he={key:1},ve={class:"announcement-header"},ye={class:"announcement-content"},ge={class:"announcement-time"},we=["onClick"],ke=q({__name:"DashboardView",setup(xe){const p=G(),u=_([{title:"总记录数",value:0,icon:"Document",color:"#409eff",trend:12.5},{title:"今日新增",value:0,icon:"Plus",color:"#67c23a",trend:8.2},{title:"文件数量",value:0,icon:"Folder",color:"#e6a23c",trend:-2.1},{title:"用户数量",value:0,icon:"User",color:"#f56c6c",trend:5.7}]),C=_([]),v=_([]),y=_(),g=_(),b=[{name:"新建记录",icon:"Plus",color:"#409eff",action:"create-record"},{name:"文件上传",icon:"Upload",color:"#67c23a",action:"upload-file"},{name:"数据导出",icon:"Download",color:"#e6a23c",action:"export-data"},{name:"系统设置",icon:"Setting",color:"#909399",action:"system-settings"}],E=a=>ne(a).format("YYYY-MM-DD HH:mm"),R=a=>({draft:"info",published:"success",archived:"warning"})[a]||"info",z=a=>({draft:"草稿",published:"已发布",archived:"已归档"})[a]||a,N=a=>({info:"primary",warning:"warning",error:"danger",success:"success"})[a]||"primary",B=a=>{switch(a){case"create-record":p.push("/records/create");break;case"upload-file":p.push("/files");break;case"export-data":p.push("/export");break;case"system-settings":p.push("/system");break;default:ce.info("功能开发中...")}},I=async()=>{try{u.value[0].value=1234,u.value[1].value=56,u.value[2].value=789,u.value[3].value=23}catch(a){console.error("Failed to load stats:",a)}},F=async()=>{try{const a=await D.get(`${S.RECORDS.LIST}?page=1&pageSize=5&sort=createdAt:desc`);C.value=a.items}catch(a){console.error("Failed to load recent records:",a)}},P=async()=>{try{const a=await D.get(S.SYSTEM.ANNOUNCEMENTS);v.value=a.slice(0,5)}catch(a){console.error("Failed to load announcements:",a)}},U=async()=>{await $(),y.value&&(y.value.innerHTML='<div style="height: 300px; display: flex; align-items: center; justify-content: center; color: #909399;">图表功能需要集成 ECharts</div>'),g.value&&(g.value.innerHTML='<div style="height: 300px; display: flex; align-items: center; justify-content: center; color: #909399;">图表功能需要集成 ECharts</div>')};return Q(async()=>{await Promise.all([I(),F(),P(),U()])}),(a,w)=>{const k=se,V=A("ArrowUp"),Y=A("ArrowDown"),r=X,i=Z,m=W,T=oe,H=ae,L=ee,O=te;return n(),l("div",le,[s(m,{gutter:20,class:"stats-row"},{default:t(()=>[(n(!0),l(f,null,h(u.value,e=>(n(),d(i,{xs:24,sm:12,md:6,key:e.title},{default:t(()=>[s(r,{class:"stat-card",shadow:"hover"},{default:t(()=>[o("div",re,[o("div",{class:"stat-icon",style:J({backgroundColor:e.color})},[s(k,{size:24},{default:t(()=>[(n(),d(M(e.icon)))]),_:2},1024)],4),o("div",ie,[o("div",de,c(e.value),1),o("div",ue,c(e.title),1)])]),o("div",{class:K(["stat-trend",e.trend>0?"positive":"negative"])},[s(k,null,{default:t(()=>[e.trend>0?(n(),d(V,{key:0})):(n(),d(Y,{key:1}))]),_:2},1024),x(" "+c(Math.abs(e.trend))+"% ",1)],2)]),_:2},1024)]),_:2},1024))),128))]),_:1}),s(m,{gutter:20,class:"charts-row"},{default:t(()=>[s(i,{xs:24,lg:16},{default:t(()=>[s(r,{title:"记录趋势",class:"chart-card"},{default:t(()=>[o("div",_e,[o("div",{ref_key:"recordTrendChart",ref:y,class:"chart"},null,512)])]),_:1})]),_:1}),s(i,{xs:24,lg:8},{default:t(()=>[s(r,{title:"记录类型分布",class:"chart-card"},{default:t(()=>[o("div",pe,[o("div",{ref_key:"recordTypeChart",ref:g,class:"chart"},null,512)])]),_:1})]),_:1})]),_:1}),s(m,{gutter:20,class:"activity-row"},{default:t(()=>[s(i,{xs:24,lg:12},{default:t(()=>[s(r,{title:"最近记录",class:"activity-card"},{default:t(()=>[s(L,null,{default:t(()=>[(n(!0),l(f,null,h(C.value,e=>(n(),d(H,{key:e.id,timestamp:E(e.createdAt),placement:"top"},{default:t(()=>[s(r,{class:"timeline-card",shadow:"never"},{default:t(()=>[o("div",me,[o("h4",null,c(e.title),1),o("p",null,c(e.type),1),s(T,{size:"small",type:R(e.status)},{default:t(()=>[x(c(z(e.status)),1)]),_:2},1032,["type"])])]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})]),_:1}),s(i,{xs:24,lg:12},{default:t(()=>[s(r,{title:"系统公告",class:"activity-card"},{default:t(()=>[v.value.length===0?(n(),l("div",fe,[s(O,{description:"暂无公告"})])):(n(),l("div",he,[(n(!0),l(f,null,h(v.value,e=>(n(),l("div",{key:e.id,class:"announcement-item"},[o("div",ve,[o("h4",null,c(e.title),1),s(T,{type:N(e.type),size:"small"},{default:t(()=>[x(c(e.type),1)]),_:2},1032,["type"])]),o("p",ye,c(e.content),1),o("div",ge,c(E(e.createdAt)),1)]))),128))]))]),_:1})]),_:1})]),_:1}),s(r,{title:"快捷操作",class:"quick-actions"},{default:t(()=>[s(m,{gutter:16},{default:t(()=>[(n(),l(f,null,h(b,e=>s(i,{xs:12,sm:8,md:6,key:e.name},{default:t(()=>[o("div",{class:"action-item",onClick:Ce=>B(e.action)},[s(k,{size:32,color:e.color},{default:t(()=>[(n(),d(M(e.icon)))]),_:2},1032,["color"]),o("span",null,c(e.name),1)],8,we)]),_:2},1024)),64))]),_:1})]),_:1})])}}}),ze=j(ke,[["__scopeId","data-v-2db92d0c"]]);export{ze as default};
//# sourceMappingURL=DashboardView-BPHK4nCT.js.map
