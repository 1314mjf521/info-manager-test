import{_ as j}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                  */import{z as J,E as c,b as K,c as Q,d as R,J as $,K as A,f as H,H as q,N as G,F as W,M as X,Q as Y,l as Z,T as ee,u as te}from"./element-CUclIBtA.js";import{y as ae,r as z,l as V,h as le,z as k,R as e,J as a,B as _,K as oe,O as i,I as h,Q as ne,a6 as se,P as x,u as re,A as f}from"./vendor-B2dHd6i_.js";import"./utils-xdQVjYpF.js";const ie={class:"user-list"},pe={class:"card-header"},ue={class:"search-bar"},de={class:"pagination"},me=ae({__name:"UserListView",setup(ce){const g=z(!1),b=z([]),n=V({username:"",email:"",status:""}),o=V({page:1,size:10,total:0}),p=async()=>{g.value=!0;try{b.value=[],o.total=0}catch{c.error("获取用户列表失败")}finally{g.value=!1}},v=()=>{o.page=1,p()},B=()=>{Object.assign(n,{username:"",email:"",status:""}),v()},w=()=>{c.info("创建用户功能开发中")},U=s=>{c.info("编辑用户功能开发中")},T=async s=>{try{await te.confirm("确定要删除该用户吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),c.success("删除成功"),p()}catch{}},I=s=>{o.size=s,p()},S=s=>{o.page=s,p()};return le(()=>{p()}),(s,t)=>{const F=Z,u=H,C=R,d=Q,y=A,D=$,L=K,r=G,E=W,M=X,N=Y,O=J,P=q;return f(),k("div",ie,[e(O,null,{header:a(()=>[_("div",pe,[t[6]||(t[6]=_("span",null,"用户管理",-1)),e(u,{type:"primary",onClick:w},{default:a(()=>[e(F,null,{default:a(()=>[e(re(ee))]),_:1}),t[5]||(t[5]=i(" 新增用户 ",-1))]),_:1})])]),default:a(()=>[_("div",ue,[e(L,{model:n,inline:""},{default:a(()=>[e(d,{label:"用户名"},{default:a(()=>[e(C,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=l=>n.username=l),placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"邮箱"},{default:a(()=>[e(C,{modelValue:n.email,"onUpdate:modelValue":t[1]||(t[1]=l=>n.email=l),placeholder:"请输入邮箱",clearable:""},null,8,["modelValue"])]),_:1}),e(d,{label:"状态"},{default:a(()=>[e(D,{modelValue:n.status,"onUpdate:modelValue":t[2]||(t[2]=l=>n.status=l),placeholder:"请选择状态",clearable:""},{default:a(()=>[e(y,{label:"启用",value:"active"}),e(y,{label:"禁用",value:"inactive"})]),_:1},8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(u,{type:"primary",onClick:v},{default:a(()=>[...t[7]||(t[7]=[i("搜索",-1)])]),_:1}),e(u,{onClick:B},{default:a(()=>[...t[8]||(t[8]=[i("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),oe((f(),h(M,{data:b.value,stripe:""},{default:a(()=>[e(r,{prop:"id",label:"ID",width:"80"}),e(r,{prop:"username",label:"用户名"}),e(r,{prop:"email",label:"邮箱"}),e(r,{prop:"roles",label:"角色"},{default:a(({row:l})=>[(f(!0),k(ne,null,se(l.roles,m=>(f(),h(E,{key:m.id,size:"small"},{default:a(()=>[i(x(m.name),1)]),_:2},1024))),128))]),_:1}),e(r,{prop:"status",label:"状态"},{default:a(({row:l})=>[e(E,{type:l.status==="active"?"success":"danger"},{default:a(()=>[i(x(l.status==="active"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"created_at",label:"创建时间"}),e(r,{label:"操作",width:"200"},{default:a(({row:l})=>[e(u,{size:"small",onClick:m=>U(l)},{default:a(()=>[...t[9]||(t[9]=[i("编辑",-1)])]),_:1},8,["onClick"]),e(u,{size:"small",type:"danger",onClick:m=>T(l)},{default:a(()=>[...t[10]||(t[10]=[i("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[P,g.value]]),_("div",de,[e(N,{"current-page":o.page,"onUpdate:currentPage":t[3]||(t[3]=l=>o.page=l),"page-size":o.size,"onUpdate:pageSize":t[4]||(t[4]=l=>o.size=l),total:o.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:I,onCurrentChange:S},null,8,["current-page","page-size","total"])])]),_:1})])}}}),Ue=j(me,[["__scopeId","data-v-3038a796"]]);export{Ue as default};
//# sourceMappingURL=UserListView-DM4cahzC.js.map
