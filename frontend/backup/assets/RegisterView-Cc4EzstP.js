import{_ as k}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                     *//* empty css                  *//* empty css                    *//* empty css                 */import{y,r as c,l as z,z as E,B as i,R as r,J as o,a4 as R,O as m,u as C,al as P,aB as B,A as U}from"./vendor-B2dHd6i_.js";import{u as A}from"./index-Co-C_Vux.js";import{b as F,c as h,d as q,e as I,f as L,E as p}from"./element-CUclIBtA.js";import"./utils-xdQVjYpF.js";const N={class:"register-container"},Z={class:"register-card"},$={class:"register-footer"},K=y({__name:"RegisterView",setup(M){const _=B(),g=A(),u=c(),s=z({username:"",email:"",password:"",confirmPassword:""}),n=c(!1),w={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"},{pattern:/^[a-zA-Z0-9_]+$/,message:"用户名只能包含字母、数字和下划线",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:50,message:"密码长度在 6 到 50 个字符",trigger:"blur"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{6,}$/,message:"密码必须包含大小写字母和数字",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(d,e,l)=>{e!==s.password?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]},f=async()=>{if(u.value)try{if(await u.value.validate(),!n.value){p.warning("请先同意用户协议");return}await g.register(s),p.success("注册成功，请登录"),_.push("/login")}catch(d){console.error("Register failed:",d),p.error(d.message||"注册失败")}};return(d,e)=>{const l=q,t=h,b=I,V=L,v=P("router-link"),x=F;return U(),E("div",N,[i("div",Z,[e[8]||(e[8]=i("div",{class:"register-header"},[i("h2",null,"信息管理系统"),i("p",null,"创建新账号")],-1)),r(x,{ref_key:"registerFormRef",ref:u,model:s,rules:w,class:"register-form",onKeyup:R(f,["enter"])},{default:o(()=>[r(t,{prop:"username"},{default:o(()=>[r(l,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.username=a),placeholder:"请输入用户名",size:"large","prefix-icon":"User",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{prop:"email"},{default:o(()=>[r(l,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=a=>s.email=a),placeholder:"请输入邮箱",size:"large","prefix-icon":"Message",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{prop:"password"},{default:o(()=>[r(l,{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.password=a),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),r(t,{prop:"confirmPassword"},{default:o(()=>[r(l,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>s.confirmPassword=a),type:"password",placeholder:"请确认密码",size:"large","prefix-icon":"Lock","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),r(t,null,{default:o(()=>[r(b,{modelValue:n.value,"onUpdate:modelValue":e[4]||(e[4]=a=>n.value=a)},{default:o(()=>[...e[5]||(e[5]=[m(" 我已阅读并同意 ",-1),i("a",{href:"#",class:"terms-link"},"《用户协议》",-1)])]),_:1},8,["modelValue"])]),_:1}),r(t,null,{default:o(()=>[r(V,{type:"primary",size:"large",class:"register-btn",loading:C(g).isLoading,disabled:!n.value,onClick:f},{default:o(()=>[...e[6]||(e[6]=[m(" 注册 ",-1)])]),_:1},8,["loading","disabled"])]),_:1}),i("div",$,[r(v,{to:"/login",class:"login-link"},{default:o(()=>[...e[7]||(e[7]=[m(" 已有账号？立即登录 ",-1)])]),_:1})])]),_:1},8,["model"])])])}}}),X=k(K,[["__scopeId","data-v-0bb2d7b4"]]);export{X as default};
//# sourceMappingURL=RegisterView-Cc4EzstP.js.map
