{"version":3,"file":"SystemView-si3wiSHJ.js","sources":["../../src/views/system/SystemView.vue"],"sourcesContent":["<template>\r\n  <div class=\"system-view\">\r\n    <el-row :gutter=\"20\">\r\n      <!-- 系统配置 -->\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>\r\n            <span>系统配置</span>\r\n          </template>\r\n          <el-form :model=\"systemConfig\" label-width=\"120px\">\r\n            <el-form-item label=\"系统名称\">\r\n              <el-input v-model=\"systemConfig.name\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"系统描述\">\r\n              <el-input v-model=\"systemConfig.description\" type=\"textarea\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"维护模式\">\r\n              <el-switch v-model=\"systemConfig.maintenance\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"注册开放\">\r\n              <el-switch v-model=\"systemConfig.registration\" />\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"saveSystemConfig\">保存配置</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-card>\r\n      </el-col>\r\n\r\n      <!-- 系统监控 -->\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>\r\n            <span>系统监控</span>\r\n          </template>\r\n          <div class=\"monitor-item\">\r\n            <span>系统状态：</span>\r\n            <el-tag :type=\"systemStatus.status === 'healthy' ? 'success' : 'danger'\">\r\n              {{ systemStatus.status === 'healthy' ? '正常' : '异常' }}\r\n            </el-tag>\r\n          </div>\r\n          <div class=\"monitor-item\">\r\n            <span>数据库连接：</span>\r\n            <el-tag :type=\"systemStatus.database ? 'success' : 'danger'\">\r\n              {{ systemStatus.database ? '正常' : '异常' }}\r\n            </el-tag>\r\n          </div>\r\n          <div class=\"monitor-item\">\r\n            <span>内存使用：</span>\r\n            <el-progress :percentage=\"systemStatus.memory\" />\r\n          </div>\r\n          <div class=\"monitor-item\">\r\n            <span>CPU使用：</span>\r\n            <el-progress :percentage=\"systemStatus.cpu\" />\r\n          </div>\r\n          <div class=\"monitor-item\">\r\n            <span>磁盘使用：</span>\r\n            <el-progress :percentage=\"systemStatus.disk\" />\r\n          </div>\r\n          <el-button type=\"primary\" @click=\"refreshStatus\">刷新状态</el-button>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <el-row :gutter=\"20\" style=\"margin-top: 20px;\">\r\n      <!-- 系统公告 -->\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>系统公告</span>\r\n              <el-button type=\"primary\" @click=\"handleCreateAnnouncement\">\r\n                <el-icon><Plus /></el-icon>\r\n                新增公告\r\n              </el-button>\r\n            </div>\r\n          </template>\r\n\r\n          <el-table :data=\"announcements\" v-loading=\"loading\">\r\n            <el-table-column prop=\"title\" label=\"标题\" />\r\n            <el-table-column prop=\"content\" label=\"内容\" show-overflow-tooltip />\r\n            <el-table-column prop=\"type\" label=\"类型\">\r\n              <template #default=\"{ row }\">\r\n                <el-tag :type=\"getAnnouncementTypeColor(row.type)\">\r\n                  {{ getAnnouncementTypeText(row.type) }}\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"status\" label=\"状态\">\r\n              <template #default=\"{ row }\">\r\n                <el-tag :type=\"row.status === 'active' ? 'success' : 'info'\">\r\n                  {{ row.status === 'active' ? '发布' : '草稿' }}\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"created_at\" label=\"创建时间\" />\r\n            <el-table-column label=\"操作\" width=\"150\">\r\n              <template #default=\"{ row }\">\r\n                <el-button size=\"small\" @click=\"handleEditAnnouncement(row)\">编辑</el-button>\r\n                <el-button size=\"small\" type=\"danger\" @click=\"handleDeleteAnnouncement(row)\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { Plus } from '@element-plus/icons-vue'\r\n\r\n// 响应式数据\r\nconst loading = ref(false)\r\nconst announcements = ref([])\r\n\r\nconst systemConfig = reactive({\r\n  name: '信息管理系统',\r\n  description: '企业级信息管理系统',\r\n  maintenance: false,\r\n  registration: true\r\n})\r\n\r\nconst systemStatus = reactive({\r\n  status: 'healthy',\r\n  database: true,\r\n  memory: 65,\r\n  cpu: 45,\r\n  disk: 78\r\n})\r\n\r\n// 方法\r\nconst saveSystemConfig = async () => {\r\n  try {\r\n    // TODO: 调用API保存系统配置\r\n    ElMessage.success('系统配置保存成功')\r\n  } catch (error) {\r\n    ElMessage.error('保存系统配置失败')\r\n  }\r\n}\r\n\r\nconst refreshStatus = async () => {\r\n  try {\r\n    // TODO: 调用API获取系统状态\r\n    ElMessage.success('系统状态已刷新')\r\n  } catch (error) {\r\n    ElMessage.error('获取系统状态失败')\r\n  }\r\n}\r\n\r\nconst fetchAnnouncements = async () => {\r\n  loading.value = true\r\n  try {\r\n    // TODO: 调用API获取公告列表\r\n    // const response = await announcementApi.getAnnouncements()\r\n    // announcements.value = response.data\r\n    \r\n    // 模拟数据\r\n    announcements.value = []\r\n  } catch (error) {\r\n    ElMessage.error('获取公告列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst handleCreateAnnouncement = () => {\r\n  // TODO: 打开创建公告对话框\r\n  ElMessage.info('创建公告功能开发中')\r\n}\r\n\r\nconst handleEditAnnouncement = (row: any) => {\r\n  // TODO: 打开编辑公告对话框\r\n  ElMessage.info('编辑公告功能开发中')\r\n}\r\n\r\nconst handleDeleteAnnouncement = async (row: any) => {\r\n  try {\r\n    await ElMessageBox.confirm('确定要删除该公告吗？', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    })\r\n    \r\n    // TODO: 调用删除API\r\n    ElMessage.success('删除成功')\r\n    fetchAnnouncements()\r\n  } catch (error) {\r\n    // 用户取消删除\r\n  }\r\n}\r\n\r\nconst getAnnouncementTypeColor = (type: string) => {\r\n  const colors: Record<string, string> = {\r\n    info: 'info',\r\n    warning: 'warning',\r\n    error: 'danger',\r\n    success: 'success'\r\n  }\r\n  return colors[type] || 'info'\r\n}\r\n\r\nconst getAnnouncementTypeText = (type: string) => {\r\n  const texts: Record<string, string> = {\r\n    info: '信息',\r\n    warning: '警告',\r\n    error: '错误',\r\n    success: '成功'\r\n  }\r\n  return texts[type] || '信息'\r\n}\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  fetchAnnouncements()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.system-view {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.monitor-item {\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.monitor-item span {\r\n  min-width: 100px;\r\n}\r\n</style>"],"names":["loading","ref","announcements","systemConfig","reactive","systemStatus","saveSystemConfig","ElMessage","refreshStatus","fetchAnnouncements","handleCreateAnnouncement","handleEditAnnouncement","row","handleDeleteAnnouncement","ElMessageBox","getAnnouncementTypeColor","type","getAnnouncementTypeText","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_row","_component_el_col","_component_el_card","_cache","_createElementVNode","_component_el_form","_component_el_form_item","_component_el_input","$event","_component_el_switch","_component_el_button","_hoisted_2","_component_el_tag","_createTextVNode","_toDisplayString","_hoisted_3","_hoisted_4","_component_el_progress","_hoisted_5","_hoisted_6","_hoisted_7","_component_el_icon","_unref","Plus","_createBlock","_component_el_table","_component_el_table_column","_withCtx"],"mappings":"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"}