{"version":3,"mappings":"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","names":["zhCn","API_CONFIG","API_ENDPOINTS","id","type","userId","routes","__vitePreload","router","createRouter","createWebHistory","to","from","next","authStore","useAuthStore","_a","_b","permission","resource","action","scope","ElMessage","request","axios","config","error","response","data","status","message","errorMessages","http","url","formData","onProgress","progressEvent","progress","defineStore","token","ref","refreshToken","user","isLoading","isAuthenticated","computed","userRoles","userPermissions","permissions","role","permissionKey","hasPermission","ownPermissionKey","hasRole","roleName","login","loginData","register","registerData","refreshAccessToken","logout","fetchUserProfile","userData","updateProfile","profileData","updatedUser","changePassword","passwordData","initAuth","savedUser","readonly","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","app","createApp","App","pinia","createPinia","ElementPlus","key","component","ElementPlusIconsVue"],"ignoreList":[0],"sources":["../../node_modules/element-plus/es/locale/lang/zh-cn.mjs","../../src/config/api.ts","../../src/router/index.ts","../../src/utils/request.ts","../../src/stores/auth.ts","../../src/App.vue","../../src/main.ts"],"sourcesContent":["var zhCn = {\n  name: \"zh-cn\",\n  el: {\n    breadcrumb: {\n      label: \"\\u9762\\u5305\\u5C51\"\n    },\n    colorpicker: {\n      confirm: \"\\u786E\\u5B9A\",\n      clear: \"\\u6E05\\u7A7A\",\n      defaultLabel: \"\\u989C\\u8272\\u9009\\u62E9\\u5668\",\n      description: \"\\u5F53\\u524D\\u989C\\u8272 {color}\\uFF0C\\u6309 Enter \\u952E\\u9009\\u62E9\\u65B0\\u989C\\u8272\",\n      alphaLabel: \"\\u9009\\u62E9\\u900F\\u660E\\u5EA6\\u7684\\u503C\"\n    },\n    datepicker: {\n      now: \"\\u6B64\\u523B\",\n      today: \"\\u4ECA\\u5929\",\n      cancel: \"\\u53D6\\u6D88\",\n      clear: \"\\u6E05\\u7A7A\",\n      confirm: \"\\u786E\\u5B9A\",\n      dateTablePrompt: \"\\u4F7F\\u7528\\u65B9\\u5411\\u952E\\u4E0E Enter \\u952E\\u53EF\\u9009\\u62E9\\u65E5\\u671F\",\n      monthTablePrompt: \"\\u4F7F\\u7528\\u65B9\\u5411\\u952E\\u4E0E Enter \\u952E\\u53EF\\u9009\\u62E9\\u6708\\u4EFD\",\n      yearTablePrompt: \"\\u4F7F\\u7528\\u65B9\\u5411\\u952E\\u4E0E Enter \\u952E\\u53EF\\u9009\\u62E9\\u5E74\\u4EFD\",\n      selectedDate: \"\\u5DF2\\u9009\\u65E5\\u671F\",\n      selectDate: \"\\u9009\\u62E9\\u65E5\\u671F\",\n      selectTime: \"\\u9009\\u62E9\\u65F6\\u95F4\",\n      startDate: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n      startTime: \"\\u5F00\\u59CB\\u65F6\\u95F4\",\n      endDate: \"\\u7ED3\\u675F\\u65E5\\u671F\",\n      endTime: \"\\u7ED3\\u675F\\u65F6\\u95F4\",\n      prevYear: \"\\u524D\\u4E00\\u5E74\",\n      nextYear: \"\\u540E\\u4E00\\u5E74\",\n      prevMonth: \"\\u4E0A\\u4E2A\\u6708\",\n      nextMonth: \"\\u4E0B\\u4E2A\\u6708\",\n      year: \"\\u5E74\",\n      month1: \"1 \\u6708\",\n      month2: \"2 \\u6708\",\n      month3: \"3 \\u6708\",\n      month4: \"4 \\u6708\",\n      month5: \"5 \\u6708\",\n      month6: \"6 \\u6708\",\n      month7: \"7 \\u6708\",\n      month8: \"8 \\u6708\",\n      month9: \"9 \\u6708\",\n      month10: \"10 \\u6708\",\n      month11: \"11 \\u6708\",\n      month12: \"12 \\u6708\",\n      weeks: {\n        sun: \"\\u65E5\",\n        mon: \"\\u4E00\",\n        tue: \"\\u4E8C\",\n        wed: \"\\u4E09\",\n        thu: \"\\u56DB\",\n        fri: \"\\u4E94\",\n        sat: \"\\u516D\"\n      },\n      weeksFull: {\n        sun: \"\\u661F\\u671F\\u65E5\",\n        mon: \"\\u661F\\u671F\\u4E00\",\n        tue: \"\\u661F\\u671F\\u4E8C\",\n        wed: \"\\u661F\\u671F\\u4E09\",\n        thu: \"\\u661F\\u671F\\u56DB\",\n        fri: \"\\u661F\\u671F\\u4E94\",\n        sat: \"\\u661F\\u671F\\u516D\"\n      },\n      months: {\n        jan: \"\\u4E00\\u6708\",\n        feb: \"\\u4E8C\\u6708\",\n        mar: \"\\u4E09\\u6708\",\n        apr: \"\\u56DB\\u6708\",\n        may: \"\\u4E94\\u6708\",\n        jun: \"\\u516D\\u6708\",\n        jul: \"\\u4E03\\u6708\",\n        aug: \"\\u516B\\u6708\",\n        sep: \"\\u4E5D\\u6708\",\n        oct: \"\\u5341\\u6708\",\n        nov: \"\\u5341\\u4E00\\u6708\",\n        dec: \"\\u5341\\u4E8C\\u6708\"\n      }\n    },\n    inputNumber: {\n      decrease: \"\\u51CF\\u5C11\\u6570\\u503C\",\n      increase: \"\\u589E\\u52A0\\u6570\\u503C\"\n    },\n    select: {\n      loading: \"\\u52A0\\u8F7D\\u4E2D\",\n      noMatch: \"\\u65E0\\u5339\\u914D\\u6570\\u636E\",\n      noData: \"\\u65E0\\u6570\\u636E\",\n      placeholder: \"\\u8BF7\\u9009\\u62E9\"\n    },\n    dropdown: {\n      toggleDropdown: \"\\u5207\\u6362\\u4E0B\\u62C9\\u9009\\u9879\"\n    },\n    mention: {\n      loading: \"\\u52A0\\u8F7D\\u4E2D\"\n    },\n    cascader: {\n      noMatch: \"\\u65E0\\u5339\\u914D\\u6570\\u636E\",\n      loading: \"\\u52A0\\u8F7D\\u4E2D\",\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      noData: \"\\u6682\\u65E0\\u6570\\u636E\"\n    },\n    pagination: {\n      goto: \"\\u524D\\u5F80\",\n      pagesize: \"\\u6761/\\u9875\",\n      total: \"\\u5171 {total} \\u6761\",\n      pageClassifier: \"\\u9875\",\n      page: \"\\u9875\",\n      prev: \"\\u4E0A\\u4E00\\u9875\",\n      next: \"\\u4E0B\\u4E00\\u9875\",\n      currentPage: \"\\u7B2C {pager} \\u9875\",\n      prevPages: \"\\u5411\\u524D {pager} \\u9875\",\n      nextPages: \"\\u5411\\u540E {pager} \\u9875\",\n      deprecationWarning: \"\\u4F60\\u4F7F\\u7528\\u4E86\\u4E00\\u4E9B\\u5DF2\\u88AB\\u5E9F\\u5F03\\u7684\\u7528\\u6CD5\\uFF0C\\u8BF7\\u53C2\\u8003 el-pagination \\u7684\\u5B98\\u65B9\\u6587\\u6863\"\n    },\n    dialog: {\n      close: \"\\u5173\\u95ED\\u6B64\\u5BF9\\u8BDD\\u6846\"\n    },\n    drawer: {\n      close: \"\\u5173\\u95ED\\u6B64\\u5BF9\\u8BDD\\u6846\"\n    },\n    messagebox: {\n      title: \"\\u63D0\\u793A\",\n      confirm: \"\\u786E\\u5B9A\",\n      cancel: \"\\u53D6\\u6D88\",\n      error: \"\\u8F93\\u5165\\u7684\\u6570\\u636E\\u4E0D\\u5408\\u6CD5!\",\n      close: \"\\u5173\\u95ED\\u6B64\\u5BF9\\u8BDD\\u6846\"\n    },\n    upload: {\n      deleteTip: \"\\u6309 Delete \\u952E\\u53EF\\u5220\\u9664\",\n      delete: \"\\u5220\\u9664\",\n      preview: \"\\u67E5\\u770B\\u56FE\\u7247\",\n      continue: \"\\u7EE7\\u7EED\\u4E0A\\u4F20\"\n    },\n    slider: {\n      defaultLabel: \"\\u6ED1\\u5757\\u4ECB\\u4E8E {min} \\u81F3 {max}\",\n      defaultRangeStartLabel: \"\\u9009\\u62E9\\u8D77\\u59CB\\u503C\",\n      defaultRangeEndLabel: \"\\u9009\\u62E9\\u7ED3\\u675F\\u503C\"\n    },\n    table: {\n      emptyText: \"\\u6682\\u65E0\\u6570\\u636E\",\n      confirmFilter: \"\\u7B5B\\u9009\",\n      resetFilter: \"\\u91CD\\u7F6E\",\n      clearFilter: \"\\u5168\\u90E8\",\n      sumText: \"\\u5408\\u8BA1\"\n    },\n    tour: {\n      next: \"\\u4E0B\\u4E00\\u6B65\",\n      previous: \"\\u4E0A\\u4E00\\u6B65\",\n      finish: \"\\u7ED3\\u675F\\u5BFC\\u89C8\",\n      close: \"\\u5173\\u95ED\\u6B64\\u5BF9\\u8BDD\\u6846\"\n    },\n    tree: {\n      emptyText: \"\\u6682\\u65E0\\u6570\\u636E\"\n    },\n    transfer: {\n      noMatch: \"\\u65E0\\u5339\\u914D\\u6570\\u636E\",\n      noData: \"\\u65E0\\u6570\\u636E\",\n      titles: [\"\\u5217\\u8868 1\", \"\\u5217\\u8868 2\"],\n      filterPlaceholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5185\\u5BB9\",\n      noCheckedFormat: \"\\u5171 {total} \\u9879\",\n      hasCheckedFormat: \"\\u5DF2\\u9009 {checked}/{total} \\u9879\"\n    },\n    image: {\n      error: \"\\u52A0\\u8F7D\\u5931\\u8D25\"\n    },\n    pageHeader: {\n      title: \"\\u8FD4\\u56DE\"\n    },\n    popconfirm: {\n      confirmButtonText: \"\\u786E\\u5B9A\",\n      cancelButtonText: \"\\u53D6\\u6D88\"\n    },\n    carousel: {\n      leftArrow: \"\\u4E0A\\u4E00\\u5F20\\u5E7B\\u706F\\u7247\",\n      rightArrow: \"\\u4E0B\\u4E00\\u5F20\\u5E7B\\u706F\\u7247\",\n      indicator: \"\\u5E7B\\u706F\\u7247\\u5207\\u6362\\u81F3\\u7D22\\u5F15 {index}\"\n    }\n  }\n};\n\nexport { zhCn as default };\n//# sourceMappingURL=zh-cn.mjs.map\n","// API配置\r\nexport const API_CONFIG = {\r\n  // 后端服务器地址 - 可以根据环境切换\r\n  BASE_URL: import.meta.env.VITE_API_BASE_URL || 'http://192.168.100.15:8080',\r\n  \r\n  // 本地开发时可以切换为本地地址\r\n  // BASE_URL: 'http://localhost:8080',\r\n  \r\n  // API版本\r\n  VERSION: '/api/v1',\r\n  \r\n  // 请求超时时间\r\n  TIMEOUT: 10000,\r\n  \r\n  // 分页默认配置\r\n  PAGE_SIZE: 20,\r\n  \r\n  // 文件上传大小限制 (MB)\r\n  MAX_FILE_SIZE: 10\r\n}\r\n\r\n// 获取完整的API地址\r\nexport const getApiUrl = (path: string): string => {\r\n  return `${API_CONFIG.BASE_URL}${API_CONFIG.VERSION}${path}`\r\n}\r\n\r\n// API端点定义\r\nexport const API_ENDPOINTS = {\r\n  // 认证相关\r\n  AUTH: {\r\n    LOGIN: '/auth/login',\r\n    REGISTER: '/auth/register',\r\n    REFRESH: '/auth/refresh',\r\n    LOGOUT: '/auth/logout',\r\n    PROFILE: '/users/profile',\r\n    CHANGE_PASSWORD: '/users/password'\r\n  },\r\n  \r\n  // 记录管理\r\n  RECORDS: {\r\n    LIST: '/records',\r\n    CREATE: '/records',\r\n    UPDATE: (id: number) => `/records/${id}`,\r\n    DELETE: (id: number) => `/records/${id}`,\r\n    DETAIL: (id: number) => `/records/${id}`,\r\n    BATCH: '/records/batch',\r\n    IMPORT: '/records/import',\r\n    BY_TYPE: (type: string) => `/records/type/${type}`\r\n  },\r\n  \r\n  // 记录类型\r\n  RECORD_TYPES: {\r\n    LIST: '/record-types',\r\n    CREATE: '/record-types',\r\n    UPDATE: (id: number) => `/record-types/${id}`,\r\n    DELETE: (id: number) => `/record-types/${id}`,\r\n    DETAIL: (id: number) => `/record-types/${id}`\r\n  },\r\n  \r\n  // 文件管理\r\n  FILES: {\r\n    UPLOAD: '/files/upload',\r\n    LIST: '/files',\r\n    DOWNLOAD: (id: number) => `/files/${id}`,\r\n    DELETE: (id: number) => `/files/${id}`,\r\n    INFO: (id: number) => `/files/${id}/info`,\r\n    OCR: '/files/ocr'\r\n  },\r\n  \r\n  // 数据导出\r\n  EXPORT: {\r\n    TEMPLATES: '/export/templates',\r\n    RECORDS: '/export/records',\r\n    FILES: '/export/files',\r\n    DOWNLOAD: (id: number) => `/export/files/${id}/download`\r\n  },\r\n  \r\n  // 权限管理\r\n  PERMISSIONS: {\r\n    CHECK: '/permissions/check',\r\n    USER: (userId: number) => `/permissions/user/${userId}`,\r\n    LIST: '/permissions'\r\n  },\r\n  \r\n  // 角色管理\r\n  ROLES: {\r\n    LIST: '/roles',\r\n    CREATE: '/roles',\r\n    UPDATE: (id: number) => `/roles/${id}`,\r\n    DELETE: (id: number) => `/roles/${id}`,\r\n    PERMISSIONS: (id: number) => `/roles/${id}/permissions`\r\n  },\r\n  \r\n  // 系统管理\r\n  SYSTEM: {\r\n    HEALTH: '/system/health',\r\n    CONFIG: '/config',\r\n    ANNOUNCEMENTS: '/announcements'\r\n  }\r\n}\r\n\r\n// 环境配置\r\nexport const ENV_CONFIG = {\r\n  isDevelopment: import.meta.env.DEV,\r\n  isProduction: import.meta.env.PROD,\r\n  apiBaseUrl: API_CONFIG.BASE_URL\r\n}","import { createRouter, createWebHistory } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport type { RouteMeta } from '@/types'\r\n\r\n// 路由配置\r\nconst routes = [\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: () => import('@/views/auth/LoginView.vue'),\r\n    meta: {\r\n      title: '登录',\r\n      hidden: true\r\n    } as RouteMeta\r\n  },\r\n  {\r\n    path: '/register',\r\n    name: 'Register',\r\n    component: () => import('@/views/auth/RegisterView.vue'),\r\n    meta: {\r\n      title: '注册',\r\n      hidden: true\r\n    } as RouteMeta\r\n  },\r\n  {\r\n    path: '/',\r\n    name: 'Layout',\r\n    component: () => import('@/layout/MainLayout.vue'),\r\n    redirect: '/dashboard',\r\n    children: [\r\n      {\r\n        path: 'dashboard',\r\n        name: 'Dashboard',\r\n        component: () => import('@/views/dashboard/DashboardView.vue'),\r\n        meta: {\r\n          title: '仪表板',\r\n          icon: 'Dashboard'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'records',\r\n        name: 'Records',\r\n        component: () => import('@/views/records/RecordListView.vue'),\r\n        meta: {\r\n          title: '记录管理',\r\n          icon: 'Document',\r\n          permission: 'records:read'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'records/create',\r\n        name: 'RecordCreate',\r\n        component: () => import('@/views/records/RecordFormView.vue'),\r\n        meta: {\r\n          title: '创建记录',\r\n          hidden: true,\r\n          permission: 'records:write'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'records/:id/edit',\r\n        name: 'RecordEdit',\r\n        component: () => import('@/views/records/RecordFormView.vue'),\r\n        meta: {\r\n          title: '编辑记录',\r\n          hidden: true,\r\n          permission: 'records:write'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'record-types',\r\n        name: 'RecordTypes',\r\n        component: () => import('@/views/record-types/RecordTypeListView.vue'),\r\n        meta: {\r\n          title: '记录类型',\r\n          icon: 'Collection',\r\n          permission: 'system:admin'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'files',\r\n        name: 'Files',\r\n        component: () => import('@/views/files/FileListView.vue'),\r\n        meta: {\r\n          title: '文件管理',\r\n          icon: 'Folder',\r\n          permission: 'files:read'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'export',\r\n        name: 'Export',\r\n        component: () => import('@/views/export/ExportView.vue'),\r\n        meta: {\r\n          title: '数据导出',\r\n          icon: 'Download',\r\n          permission: 'records:read'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'users',\r\n        name: 'Users',\r\n        component: () => import('@/views/users/UserListView.vue'),\r\n        meta: {\r\n          title: '用户管理',\r\n          icon: 'User',\r\n          permission: 'users:read'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'roles',\r\n        name: 'Roles',\r\n        component: () => import('@/views/roles/RoleListView.vue'),\r\n        meta: {\r\n          title: '角色管理',\r\n          icon: 'UserFilled',\r\n          permission: 'system:admin'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'system',\r\n        name: 'System',\r\n        component: () => import('@/views/system/SystemView.vue'),\r\n        meta: {\r\n          title: '系统管理',\r\n          icon: 'Setting',\r\n          permission: 'system:admin'\r\n        } as RouteMeta\r\n      },\r\n      {\r\n        path: 'profile',\r\n        name: 'Profile',\r\n        component: () => import('@/views/profile/ProfileView.vue'),\r\n        meta: {\r\n          title: '个人资料',\r\n          hidden: true\r\n        } as RouteMeta\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/:pathMatch(.*)*',\r\n    name: 'NotFound',\r\n    component: () => import('@/views/error/NotFoundView.vue'),\r\n    meta: {\r\n      title: '页面不存在',\r\n      hidden: true\r\n    } as RouteMeta\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n})\r\n\r\n// 路由守卫\r\nrouter.beforeEach(async (to, from, next) => {\r\n  const authStore = useAuthStore()\r\n  \r\n  // 设置页面标题\r\n  if (to.meta?.title) {\r\n    document.title = `${to.meta.title} - 信息管理系统`\r\n  }\r\n  \r\n  // 公开路由，无需认证\r\n  const publicRoutes = ['/login', '/register']\r\n  if (publicRoutes.includes(to.path)) {\r\n    // 如果已登录，重定向到首页\r\n    if (authStore.isAuthenticated) {\r\n      next('/')\r\n    } else {\r\n      next()\r\n    }\r\n    return\r\n  }\r\n  \r\n  // 需要认证的路由\r\n  if (!authStore.isAuthenticated) {\r\n    next('/login')\r\n    return\r\n  }\r\n  \r\n  // 权限检查\r\n  if (to.meta?.permission) {\r\n    const permission = to.meta.permission as string\r\n    const [resource, action, scope = 'all'] = permission.split(':')\r\n    if (!authStore.hasPermission(resource, action, scope)) {\r\n      ElMessage.error('没有权限访问该页面')\r\n      next('/')\r\n      return\r\n    }\r\n  }\r\n  \r\n  next()\r\n})\r\n\r\nexport default router","import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { API_CONFIG } from '@/config/api'\r\nimport router from '@/router'\r\n\r\n// 创建axios实例\r\nconst request: AxiosInstance = axios.create({\r\n  baseURL: `${API_CONFIG.BASE_URL}${API_CONFIG.VERSION}`,\r\n  timeout: API_CONFIG.TIMEOUT,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\n// 请求拦截器\r\nrequest.interceptors.request.use(\r\n  (config: AxiosRequestConfig) => {\r\n    const authStore = useAuthStore()\r\n    \r\n    // 添加认证token\r\n    if (authStore.token) {\r\n      config.headers = {\r\n        ...config.headers,\r\n        Authorization: `Bearer ${authStore.token}`\r\n      }\r\n    }\r\n    \r\n    return config\r\n  },\r\n  (error) => {\r\n    console.error('Request error:', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 响应拦截器\r\nrequest.interceptors.response.use(\r\n  (response: AxiosResponse) => {\r\n    const { data, status } = response\r\n    \r\n    // 请求成功\r\n    if (status === 200 || status === 201) {\r\n      return data\r\n    }\r\n    \r\n    // 其他状态码处理\r\n    ElMessage.error(data.message || '请求失败')\r\n    return Promise.reject(new Error(data.message || '请求失败'))\r\n  },\r\n  async (error) => {\r\n    const { response, message } = error\r\n    const authStore = useAuthStore()\r\n    \r\n    if (response) {\r\n      const { status, data } = response\r\n      \r\n      switch (status) {\r\n        case 401:\r\n          // 未授权，清除token并跳转到登录页\r\n          ElMessage.error('登录已过期，请重新登录')\r\n          authStore.logout()\r\n          router.push('/login')\r\n          break\r\n          \r\n        case 403:\r\n          ElMessage.error('没有权限访问该资源')\r\n          break\r\n          \r\n        case 404:\r\n          ElMessage.error('请求的资源不存在')\r\n          break\r\n          \r\n        case 422:\r\n          // 表单验证错误\r\n          if (data.errors) {\r\n            const errorMessages = Object.values(data.errors).flat()\r\n            ElMessage.error(errorMessages.join(', '))\r\n          } else {\r\n            ElMessage.error(data.message || '请求参数错误')\r\n          }\r\n          break\r\n          \r\n        case 429:\r\n          ElMessage.error('请求过于频繁，请稍后再试')\r\n          break\r\n          \r\n        case 500:\r\n          ElMessage.error('服务器内部错误')\r\n          break\r\n          \r\n        default:\r\n          ElMessage.error(data.message || `请求失败 (${status})`)\r\n      }\r\n    } else if (message.includes('timeout')) {\r\n      ElMessage.error('请求超时，请检查网络连接')\r\n    } else if (message.includes('Network Error')) {\r\n      ElMessage.error('网络连接失败，请检查网络')\r\n    } else {\r\n      ElMessage.error('请求失败，请稍后重试')\r\n    }\r\n    \r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// 通用请求方法\r\nexport const http = {\r\n  get<T = any>(url: string, config?: AxiosRequestConfig): Promise<T> {\r\n    return request.get(url, config)\r\n  },\r\n  \r\n  post<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {\r\n    return request.post(url, data, config)\r\n  },\r\n  \r\n  put<T = any>(url: string, data?: any, config?: AxiosRequestConfig): Promise<T> {\r\n    return request.put(url, data, config)\r\n  },\r\n  \r\n  delete<T = any>(url: string, config?: AxiosRequestConfig): Promise<T> {\r\n    return request.delete(url, config)\r\n  },\r\n  \r\n  upload<T = any>(url: string, formData: FormData, onProgress?: (progress: number) => void): Promise<T> {\r\n    return request.post(url, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        if (onProgress && progressEvent.total) {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n          onProgress(progress)\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default request","import { defineStore } from 'pinia'\r\nimport { ref, computed, readonly } from 'vue'\r\nimport { http } from '@/utils/request'\r\nimport { API_ENDPOINTS } from '@/config/api'\r\nimport type { User, LoginRequest, LoginResponse, RegisterRequest } from '@/types'\r\n\r\nexport const useAuthStore = defineStore('auth', () => {\r\n  // 状态\r\n  const token = ref<string>(localStorage.getItem('token') || '')\r\n  const refreshToken = ref<string>(localStorage.getItem('refreshToken') || '')\r\n  const user = ref<User | null>(null)\r\n  const isLoading = ref(false)\r\n\r\n  // 计算属性\r\n  const isAuthenticated = computed(() => !!token.value && !!user.value)\r\n  const userRoles = computed(() => user.value?.roles || [])\r\n  const userPermissions = computed(() => {\r\n    const permissions: string[] = []\r\n    userRoles.value.forEach(role => {\r\n      role.permissions.forEach(permission => {\r\n        const permissionKey = `${permission.resource}:${permission.action}:${permission.scope}`\r\n        if (!permissions.includes(permissionKey)) {\r\n          permissions.push(permissionKey)\r\n        }\r\n      })\r\n    })\r\n    return permissions\r\n  })\r\n\r\n  // 检查权限\r\n  const hasPermission = (resource: string, action: string, scope: string = 'all'): boolean => {\r\n    if (!isAuthenticated.value) return false\r\n    \r\n    const permissionKey = `${resource}:${action}:${scope}`\r\n    const ownPermissionKey = `${resource}:${action}:own`\r\n    \r\n    return userPermissions.value.includes(permissionKey) || \r\n           userPermissions.value.includes(ownPermissionKey)\r\n  }\r\n\r\n  // 检查角色\r\n  const hasRole = (roleName: string): boolean => {\r\n    return userRoles.value.some(role => role.name === roleName)\r\n  }\r\n\r\n  // 登录\r\n  const login = async (loginData: LoginRequest): Promise<void> => {\r\n    try {\r\n      isLoading.value = true\r\n      const response = await http.post<LoginResponse>(API_ENDPOINTS.AUTH.LOGIN, loginData)\r\n      \r\n      // 保存认证信息\r\n      token.value = response.token\r\n      refreshToken.value = response.refreshToken\r\n      user.value = response.user\r\n      \r\n      // 持久化到localStorage\r\n      localStorage.setItem('token', response.token)\r\n      localStorage.setItem('refreshToken', response.refreshToken)\r\n      localStorage.setItem('user', JSON.stringify(response.user))\r\n      \r\n    } catch (error) {\r\n      console.error('Login failed:', error)\r\n      throw error\r\n    } finally {\r\n      isLoading.value = false\r\n    }\r\n  }\r\n\r\n  // 注册\r\n  const register = async (registerData: RegisterRequest): Promise<void> => {\r\n    try {\r\n      isLoading.value = true\r\n      await http.post(API_ENDPOINTS.AUTH.REGISTER, registerData)\r\n    } catch (error) {\r\n      console.error('Register failed:', error)\r\n      throw error\r\n    } finally {\r\n      isLoading.value = false\r\n    }\r\n  }\r\n\r\n  // 刷新token\r\n  const refreshAccessToken = async (): Promise<void> => {\r\n    try {\r\n      const response = await http.post<LoginResponse>(API_ENDPOINTS.AUTH.REFRESH, {\r\n        refreshToken: refreshToken.value\r\n      })\r\n      \r\n      token.value = response.token\r\n      localStorage.setItem('token', response.token)\r\n      \r\n      if (response.refreshToken) {\r\n        refreshToken.value = response.refreshToken\r\n        localStorage.setItem('refreshToken', response.refreshToken)\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh failed:', error)\r\n      logout()\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // 获取用户信息\r\n  const fetchUserProfile = async (): Promise<void> => {\r\n    try {\r\n      const userData = await http.get<User>(API_ENDPOINTS.AUTH.PROFILE)\r\n      user.value = userData\r\n      localStorage.setItem('user', JSON.stringify(userData))\r\n    } catch (error) {\r\n      console.error('Fetch user profile failed:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // 更新用户信息\r\n  const updateProfile = async (profileData: Partial<User>): Promise<void> => {\r\n    try {\r\n      const updatedUser = await http.put<User>(API_ENDPOINTS.AUTH.PROFILE, profileData)\r\n      user.value = updatedUser\r\n      localStorage.setItem('user', JSON.stringify(updatedUser))\r\n    } catch (error) {\r\n      console.error('Update profile failed:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // 修改密码\r\n  const changePassword = async (passwordData: { oldPassword: string; newPassword: string }): Promise<void> => {\r\n    try {\r\n      await http.put(API_ENDPOINTS.AUTH.CHANGE_PASSWORD, passwordData)\r\n    } catch (error) {\r\n      console.error('Change password failed:', error)\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // 登出\r\n  const logout = async (): Promise<void> => {\r\n    try {\r\n      if (token.value) {\r\n        await http.post(API_ENDPOINTS.AUTH.LOGOUT)\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout request failed:', error)\r\n    } finally {\r\n      // 清除本地状态\r\n      token.value = ''\r\n      refreshToken.value = ''\r\n      user.value = null\r\n      \r\n      // 清除localStorage\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('refreshToken')\r\n      localStorage.removeItem('user')\r\n    }\r\n  }\r\n\r\n  // 初始化认证状态\r\n  const initAuth = (): void => {\r\n    const savedUser = localStorage.getItem('user')\r\n    if (savedUser && token.value) {\r\n      try {\r\n        user.value = JSON.parse(savedUser)\r\n      } catch (error) {\r\n        console.error('Failed to parse saved user data:', error)\r\n        logout()\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    // 状态\r\n    token: readonly(token),\r\n    refreshToken: readonly(refreshToken),\r\n    user: readonly(user),\r\n    isLoading: readonly(isLoading),\r\n    \r\n    // 计算属性\r\n    isAuthenticated,\r\n    userRoles,\r\n    userPermissions,\r\n    \r\n    // 方法\r\n    hasPermission,\r\n    hasRole,\r\n    login,\r\n    register,\r\n    refreshAccessToken,\r\n    fetchUserProfile,\r\n    updateProfile,\r\n    changePassword,\r\n    logout,\r\n    initAuth\r\n  }\r\n})","<template>\r\n  <div id=\"app\">\r\n    <router-view />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { onMounted } from 'vue'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst authStore = useAuthStore()\r\n\r\nonMounted(() => {\r\n  // 初始化应用\r\n  authStore.initAuth()\r\n})\r\n</script>\r\n\r\n<style>\r\n/* 全局样式重置 */\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml, body {\r\n  height: 100%;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\r\n  background-color: #f0f2f5;\r\n}\r\n\r\n#app {\r\n  height: 100%;\r\n}\r\n\r\n/* 滚动条样式 */\r\n::-webkit-scrollbar {\r\n  width: 6px;\r\n  height: 6px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 3px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: #c1c1c1;\r\n  border-radius: 3px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #a8a8a8;\r\n}\r\n\r\n/* Element Plus 样式覆盖 */\r\n.el-button + .el-button {\r\n  margin-left: 8px;\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.el-card {\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.el-table {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 工具类 */\r\n.text-center {\r\n  text-align: center;\r\n}\r\n\r\n.text-right {\r\n  text-align: right;\r\n}\r\n\r\n.mb-16 {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.mb-20 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.mt-16 {\r\n  margin-top: 16px;\r\n}\r\n\r\n.mt-20 {\r\n  margin-top: 20px;\r\n}\r\n\r\n.full-width {\r\n  width: 100%;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n}\r\n\r\n.flex-center {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.flex-between {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.flex-1 {\r\n  flex: 1;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .el-aside {\r\n    width: 64px !important;\r\n  }\r\n  \r\n  .el-main {\r\n    padding: 10px;\r\n  }\r\n  \r\n  .el-card {\r\n    margin: 0 -10px;\r\n    border-radius: 0;\r\n  }\r\n}\r\n</style>","import { createApp } from 'vue'\r\nimport { createPinia } from 'pinia'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'\r\nimport zhCn from 'element-plus/es/locale/lang/zh-cn'\r\nimport 'nprogress/nprogress.css'\r\n\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport { useAuthStore } from './stores/auth'\r\n\r\n// 创建应用实例\r\nconst app = createApp(App)\r\n\r\n// 注册Pinia状态管理\r\nconst pinia = createPinia()\r\napp.use(pinia)\r\n\r\n// 注册Element Plus\r\napp.use(ElementPlus, {\r\n  locale: zhCn\r\n})\r\n\r\n// 注册Element Plus图标\r\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\r\n  app.component(key, component)\r\n}\r\n\r\n// 注册路由\r\napp.use(router)\r\n\r\n// 初始化认证状态\r\nconst authStore = useAuthStore()\r\nauthStore.initAuth()\r\n\r\n// 挂载应用\r\napp.mount('#app')"],"file":"assets/index-Co-C_Vux.js"}