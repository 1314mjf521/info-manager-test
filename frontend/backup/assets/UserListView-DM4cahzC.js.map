{"version":3,"file":"UserListView-DM4cahzC.js","sources":["../../src/views/users/UserListView.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-list\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>用户管理</span>\r\n          <el-button type=\"primary\" @click=\"handleCreate\">\r\n            <el-icon><Plus /></el-icon>\r\n            新增用户\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 搜索栏 -->\r\n      <div class=\"search-bar\">\r\n        <el-form :model=\"searchForm\" inline>\r\n          <el-form-item label=\"用户名\">\r\n            <el-input v-model=\"searchForm.username\" placeholder=\"请输入用户名\" clearable />\r\n          </el-form-item>\r\n          <el-form-item label=\"邮箱\">\r\n            <el-input v-model=\"searchForm.email\" placeholder=\"请输入邮箱\" clearable />\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\">\r\n            <el-select v-model=\"searchForm.status\" placeholder=\"请选择状态\" clearable>\r\n              <el-option label=\"启用\" value=\"active\" />\r\n              <el-option label=\"禁用\" value=\"inactive\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\r\n            <el-button @click=\"handleReset\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n\r\n      <!-- 用户表格 -->\r\n      <el-table :data=\"users\" v-loading=\"loading\" stripe>\r\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\r\n        <el-table-column prop=\"username\" label=\"用户名\" />\r\n        <el-table-column prop=\"email\" label=\"邮箱\" />\r\n        <el-table-column prop=\"roles\" label=\"角色\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag v-for=\"role in row.roles\" :key=\"role.id\" size=\"small\">\r\n              {{ role.name }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.status === 'active' ? 'success' : 'danger'\">\r\n              {{ row.status === 'active' ? '启用' : '禁用' }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"created_at\" label=\"创建时间\" />\r\n        <el-table-column label=\"操作\" width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            <el-button size=\"small\" @click=\"handleEdit(row)\">编辑</el-button>\r\n            <el-button size=\"small\" type=\"danger\" @click=\"handleDelete(row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          v-model:current-page=\"pagination.page\"\r\n          v-model:page-size=\"pagination.size\"\r\n          :total=\"pagination.total\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { Plus } from '@element-plus/icons-vue'\r\n\r\n// 响应式数据\r\nconst loading = ref(false)\r\nconst users = ref([])\r\n\r\nconst searchForm = reactive({\r\n  username: '',\r\n  email: '',\r\n  status: ''\r\n})\r\n\r\nconst pagination = reactive({\r\n  page: 1,\r\n  size: 10,\r\n  total: 0\r\n})\r\n\r\n// 方法\r\nconst fetchUsers = async () => {\r\n  loading.value = true\r\n  try {\r\n    // TODO: 调用API获取用户列表\r\n    // const response = await userApi.getUsers({\r\n    //   ...searchForm,\r\n    //   page: pagination.page,\r\n    //   size: pagination.size\r\n    // })\r\n    // users.value = response.data.items\r\n    // pagination.total = response.data.total\r\n    \r\n    // 模拟数据\r\n    users.value = []\r\n    pagination.total = 0\r\n  } catch (error) {\r\n    ElMessage.error('获取用户列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst handleSearch = () => {\r\n  pagination.page = 1\r\n  fetchUsers()\r\n}\r\n\r\nconst handleReset = () => {\r\n  Object.assign(searchForm, {\r\n    username: '',\r\n    email: '',\r\n    status: ''\r\n  })\r\n  handleSearch()\r\n}\r\n\r\nconst handleCreate = () => {\r\n  // TODO: 打开创建用户对话框\r\n  ElMessage.info('创建用户功能开发中')\r\n}\r\n\r\nconst handleEdit = (row: any) => {\r\n  // TODO: 打开编辑用户对话框\r\n  ElMessage.info('编辑用户功能开发中')\r\n}\r\n\r\nconst handleDelete = async (row: any) => {\r\n  try {\r\n    await ElMessageBox.confirm('确定要删除该用户吗？', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    })\r\n    \r\n    // TODO: 调用删除API\r\n    ElMessage.success('删除成功')\r\n    fetchUsers()\r\n  } catch (error) {\r\n    // 用户取消删除\r\n  }\r\n}\r\n\r\nconst handleSizeChange = (size: number) => {\r\n  pagination.size = size\r\n  fetchUsers()\r\n}\r\n\r\nconst handleCurrentChange = (page: number) => {\r\n  pagination.page = page\r\n  fetchUsers()\r\n}\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  fetchUsers()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.user-list {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-bar {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n</style>"],"names":["loading","ref","users","searchForm","reactive","pagination","fetchUsers","ElMessage","handleSearch","handleReset","handleCreate","handleEdit","row","handleDelete","ElMessageBox","handleSizeChange","size","handleCurrentChange","page","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_createElementVNode","_hoisted_2","_cache","_component_el_button","_component_el_icon","_unref","Plus","_hoisted_3","_component_el_form","_component_el_form_item","_component_el_input","$event","_component_el_select","_component_el_option","_createBlock","_component_el_table","_component_el_table_column","_withCtx","_Fragment","_renderList","role","_component_el_tag","_createTextVNode","_toDisplayString","_hoisted_4","_component_el_pagination"],"mappings":"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"}