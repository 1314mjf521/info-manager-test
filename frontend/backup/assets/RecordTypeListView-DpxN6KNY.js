import{_ as O}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                  */import{z as P,E as u,b as $,c as j,d as J,J as K,K as A,f as H,H as Q,N as q,F as G,M as W,Q as X,l as Y,T as Z,u as ee}from"./element-CUclIBtA.js";import{y as te,r as C,l as E,h as ae,z as le,R as e,J as a,B as m,K as oe,O as s,I as ne,P as z,u as se,A as k}from"./vendor-B2dHd6i_.js";import"./utils-xdQVjYpF.js";const ie={class:"record-type-list"},re={class:"card-header"},pe={class:"search-bar"},de={class:"pagination"},ce=te({__name:"RecordTypeListView",setup(ue){const _=C(!1),g=C([]),r=E({name:"",status:""}),o=E({page:1,size:10,total:0}),d=async()=>{_.value=!0;try{g.value=[],o.total=0}catch{u.error("获取记录类型列表失败")}finally{_.value=!1}},v=()=>{o.page=1,d()},h=()=>{Object.assign(r,{name:"",status:""}),v()},T=()=>{u.info("创建记录类型功能开发中")},V=n=>{u.info("编辑记录类型功能开发中")},x=n=>{u.info("字段配置功能开发中")},B=async n=>{try{await ee.confirm("确定要删除该记录类型吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),u.success("删除成功"),d()}catch{}},w=n=>{o.size=n,d()},I=n=>{o.page=n,d()};return ae(()=>{d()}),(n,t)=>{const S=Y,p=H,F=J,f=j,b=A,R=K,D=$,i=q,y=G,M=W,N=X,U=P,L=Q;return k(),le("div",ie,[e(U,null,{header:a(()=>[m("div",re,[t[5]||(t[5]=m("span",null,"记录类型管理",-1)),e(p,{type:"primary",onClick:T},{default:a(()=>[e(S,null,{default:a(()=>[e(se(Z))]),_:1}),t[4]||(t[4]=s(" 新增类型 ",-1))]),_:1})])]),default:a(()=>[m("div",pe,[e(D,{model:r,inline:""},{default:a(()=>[e(f,{label:"类型名称"},{default:a(()=>[e(F,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=l=>r.name=l),placeholder:"请输入类型名称",clearable:""},null,8,["modelValue"])]),_:1}),e(f,{label:"状态"},{default:a(()=>[e(R,{modelValue:r.status,"onUpdate:modelValue":t[1]||(t[1]=l=>r.status=l),placeholder:"请选择状态",clearable:""},{default:a(()=>[e(b,{label:"启用",value:"active"}),e(b,{label:"禁用",value:"inactive"})]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(p,{type:"primary",onClick:v},{default:a(()=>[...t[6]||(t[6]=[s("搜索",-1)])]),_:1}),e(p,{onClick:h},{default:a(()=>[...t[7]||(t[7]=[s("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),oe((k(),ne(M,{data:g.value,stripe:""},{default:a(()=>[e(i,{prop:"id",label:"ID",width:"80"}),e(i,{prop:"name",label:"类型名称"}),e(i,{prop:"description",label:"描述"}),e(i,{prop:"fields",label:"字段数量"},{default:a(({row:l})=>[e(y,null,{default:a(()=>{var c;return[s(z(((c=l.fields)==null?void 0:c.length)||0)+" 个字段",1)]}),_:2},1024)]),_:1}),e(i,{prop:"status",label:"状态"},{default:a(({row:l})=>[e(y,{type:l.status==="active"?"success":"danger"},{default:a(()=>[s(z(l.status==="active"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"created_at",label:"创建时间"}),e(i,{label:"操作",width:"200"},{default:a(({row:l})=>[e(p,{size:"small",onClick:c=>V(l)},{default:a(()=>[...t[8]||(t[8]=[s("编辑",-1)])]),_:1},8,["onClick"]),e(p,{size:"small",type:"info",onClick:c=>x(l)},{default:a(()=>[...t[9]||(t[9]=[s("字段",-1)])]),_:1},8,["onClick"]),e(p,{size:"small",type:"danger",onClick:c=>B(l)},{default:a(()=>[...t[10]||(t[10]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[L,_.value]]),m("div",de,[e(N,{"current-page":o.page,"onUpdate:currentPage":t[2]||(t[2]=l=>o.page=l),"page-size":o.size,"onUpdate:pageSize":t[3]||(t[3]=l=>o.size=l),total:o.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:w,onCurrentChange:I},null,8,["current-page","page-size","total"])])]),_:1})])}}}),Be=O(ce,[["__scopeId","data-v-cc33bdb1"]]);export{Be as default};
//# sourceMappingURL=RecordTypeListView-DpxN6KNY.js.map
