import{_ as L}from"./_plugin-vue_export-helper-BJA4NJ9J.js";/* empty css                   *//* empty css                *//* empty css                      *//* empty css                  *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                    */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                  */import{z as O,E as c,b as $,c as j,d as J,J as K,K as A,f as H,H as Q,N as q,F as G,M as W,Q as X,l as Y,T as Z,u as ee}from"./element-CUclIBtA.js";import{y as te,r as y,l as E,h as ae,z as le,R as e,J as a,B as m,K as oe,O as s,I as ne,P as z,u as se,A as k}from"./vendor-B2dHd6i_.js";import"./utils-xdQVjYpF.js";const ie={class:"role-list"},re={class:"card-header"},pe={class:"search-bar"},de={class:"pagination"},ue=te({__name:"RoleListView",setup(ce){const _=y(!1),g=y([]),r=E({name:"",status:""}),o=E({page:1,size:10,total:0}),d=async()=>{_.value=!0;try{g.value=[],o.total=0}catch{c.error("获取角色列表失败")}finally{_.value=!1}},v=()=>{o.page=1,d()},h=()=>{Object.assign(r,{name:"",status:""}),v()},V=()=>{c.info("创建角色功能开发中")},x=n=>{c.info("编辑角色功能开发中")},B=n=>{c.info("权限配置功能开发中")},w=async n=>{try{await ee.confirm("确定要删除该角色吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),c.success("删除成功"),d()}catch{}},T=n=>{o.size=n,d()},I=n=>{o.page=n,d()};return ae(()=>{d()}),(n,t)=>{const S=Y,p=H,R=J,f=j,b=A,D=K,F=$,i=q,C=G,M=W,N=X,P=O,U=Q;return k(),le("div",ie,[e(P,null,{header:a(()=>[m("div",re,[t[5]||(t[5]=m("span",null,"角色管理",-1)),e(p,{type:"primary",onClick:V},{default:a(()=>[e(S,null,{default:a(()=>[e(se(Z))]),_:1}),t[4]||(t[4]=s(" 新增角色 ",-1))]),_:1})])]),default:a(()=>[m("div",pe,[e(F,{model:r,inline:""},{default:a(()=>[e(f,{label:"角色名称"},{default:a(()=>[e(R,{modelValue:r.name,"onUpdate:modelValue":t[0]||(t[0]=l=>r.name=l),placeholder:"请输入角色名称",clearable:""},null,8,["modelValue"])]),_:1}),e(f,{label:"状态"},{default:a(()=>[e(D,{modelValue:r.status,"onUpdate:modelValue":t[1]||(t[1]=l=>r.status=l),placeholder:"请选择状态",clearable:""},{default:a(()=>[e(b,{label:"启用",value:"active"}),e(b,{label:"禁用",value:"inactive"})]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:a(()=>[e(p,{type:"primary",onClick:v},{default:a(()=>[...t[6]||(t[6]=[s("搜索",-1)])]),_:1}),e(p,{onClick:h},{default:a(()=>[...t[7]||(t[7]=[s("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),oe((k(),ne(M,{data:g.value,stripe:""},{default:a(()=>[e(i,{prop:"id",label:"ID",width:"80"}),e(i,{prop:"name",label:"角色名称"}),e(i,{prop:"description",label:"描述"}),e(i,{prop:"permissions",label:"权限数量"},{default:a(({row:l})=>[e(C,null,{default:a(()=>{var u;return[s(z(((u=l.permissions)==null?void 0:u.length)||0)+" 个权限",1)]}),_:2},1024)]),_:1}),e(i,{prop:"status",label:"状态"},{default:a(({row:l})=>[e(C,{type:l.status==="active"?"success":"danger"},{default:a(()=>[s(z(l.status==="active"?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"created_at",label:"创建时间"}),e(i,{label:"操作",width:"200"},{default:a(({row:l})=>[e(p,{size:"small",onClick:u=>x(l)},{default:a(()=>[...t[8]||(t[8]=[s("编辑",-1)])]),_:1},8,["onClick"]),e(p,{size:"small",type:"info",onClick:u=>B(l)},{default:a(()=>[...t[9]||(t[9]=[s("权限",-1)])]),_:1},8,["onClick"]),e(p,{size:"small",type:"danger",onClick:u=>w(l)},{default:a(()=>[...t[10]||(t[10]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[U,_.value]]),m("div",de,[e(N,{"current-page":o.page,"onUpdate:currentPage":t[2]||(t[2]=l=>o.page=l),"page-size":o.size,"onUpdate:pageSize":t[3]||(t[3]=l=>o.size=l),total:o.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:T,onCurrentChange:I},null,8,["current-page","page-size","total"])])]),_:1})])}}}),we=L(ue,[["__scopeId","data-v-03b7ef8b"]]);export{we as default};
//# sourceMappingURL=RoleListView-DYhIo4nP.js.map
