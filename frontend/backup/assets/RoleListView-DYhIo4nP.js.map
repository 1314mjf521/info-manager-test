{"version":3,"file":"RoleListView-DYhIo4nP.js","sources":["../../src/views/roles/RoleListView.vue"],"sourcesContent":["<template>\r\n  <div class=\"role-list\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>角色管理</span>\r\n          <el-button type=\"primary\" @click=\"handleCreate\">\r\n            <el-icon><Plus /></el-icon>\r\n            新增角色\r\n          </el-button>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 搜索栏 -->\r\n      <div class=\"search-bar\">\r\n        <el-form :model=\"searchForm\" inline>\r\n          <el-form-item label=\"角色名称\">\r\n            <el-input v-model=\"searchForm.name\" placeholder=\"请输入角色名称\" clearable />\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\">\r\n            <el-select v-model=\"searchForm.status\" placeholder=\"请选择状态\" clearable>\r\n              <el-option label=\"启用\" value=\"active\" />\r\n              <el-option label=\"禁用\" value=\"inactive\" />\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\r\n            <el-button @click=\"handleReset\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n\r\n      <!-- 角色表格 -->\r\n      <el-table :data=\"roles\" v-loading=\"loading\" stripe>\r\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\r\n        <el-table-column prop=\"name\" label=\"角色名称\" />\r\n        <el-table-column prop=\"description\" label=\"描述\" />\r\n        <el-table-column prop=\"permissions\" label=\"权限数量\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag>{{ row.permissions?.length || 0 }} 个权限</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.status === 'active' ? 'success' : 'danger'\">\r\n              {{ row.status === 'active' ? '启用' : '禁用' }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"created_at\" label=\"创建时间\" />\r\n        <el-table-column label=\"操作\" width=\"200\">\r\n          <template #default=\"{ row }\">\r\n            <el-button size=\"small\" @click=\"handleEdit(row)\">编辑</el-button>\r\n            <el-button size=\"small\" type=\"info\" @click=\"handlePermissions(row)\">权限</el-button>\r\n            <el-button size=\"small\" type=\"danger\" @click=\"handleDelete(row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 分页 -->\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          v-model:current-page=\"pagination.page\"\r\n          v-model:page-size=\"pagination.size\"\r\n          :total=\"pagination.total\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport { Plus } from '@element-plus/icons-vue'\r\n\r\n// 响应式数据\r\nconst loading = ref(false)\r\nconst roles = ref([])\r\n\r\nconst searchForm = reactive({\r\n  name: '',\r\n  status: ''\r\n})\r\n\r\nconst pagination = reactive({\r\n  page: 1,\r\n  size: 10,\r\n  total: 0\r\n})\r\n\r\n// 方法\r\nconst fetchRoles = async () => {\r\n  loading.value = true\r\n  try {\r\n    // TODO: 调用API获取角色列表\r\n    // const response = await roleApi.getRoles({\r\n    //   ...searchForm,\r\n    //   page: pagination.page,\r\n    //   size: pagination.size\r\n    // })\r\n    // roles.value = response.data.items\r\n    // pagination.total = response.data.total\r\n    \r\n    // 模拟数据\r\n    roles.value = []\r\n    pagination.total = 0\r\n  } catch (error) {\r\n    ElMessage.error('获取角色列表失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst handleSearch = () => {\r\n  pagination.page = 1\r\n  fetchRoles()\r\n}\r\n\r\nconst handleReset = () => {\r\n  Object.assign(searchForm, {\r\n    name: '',\r\n    status: ''\r\n  })\r\n  handleSearch()\r\n}\r\n\r\nconst handleCreate = () => {\r\n  // TODO: 打开创建角色对话框\r\n  ElMessage.info('创建角色功能开发中')\r\n}\r\n\r\nconst handleEdit = (row: any) => {\r\n  // TODO: 打开编辑角色对话框\r\n  ElMessage.info('编辑角色功能开发中')\r\n}\r\n\r\nconst handlePermissions = (row: any) => {\r\n  // TODO: 打开权限配置对话框\r\n  ElMessage.info('权限配置功能开发中')\r\n}\r\n\r\nconst handleDelete = async (row: any) => {\r\n  try {\r\n    await ElMessageBox.confirm('确定要删除该角色吗？', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    })\r\n    \r\n    // TODO: 调用删除API\r\n    ElMessage.success('删除成功')\r\n    fetchRoles()\r\n  } catch (error) {\r\n    // 用户取消删除\r\n  }\r\n}\r\n\r\nconst handleSizeChange = (size: number) => {\r\n  pagination.size = size\r\n  fetchRoles()\r\n}\r\n\r\nconst handleCurrentChange = (page: number) => {\r\n  pagination.page = page\r\n  fetchRoles()\r\n}\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  fetchRoles()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.role-list {\r\n  padding: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-bar {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n</style>"],"names":["loading","ref","roles","searchForm","reactive","pagination","fetchRoles","ElMessage","handleSearch","handleReset","handleCreate","handleEdit","row","handlePermissions","handleDelete","ElMessageBox","handleSizeChange","size","handleCurrentChange","page","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","_createElementVNode","_hoisted_2","_cache","_component_el_button","_component_el_icon","_unref","Plus","_hoisted_3","_component_el_form","_component_el_form_item","_component_el_input","$event","_component_el_select","_component_el_option","_createBlock","_component_el_table","_component_el_table_column","_withCtx","_component_el_tag","_createTextVNode","_toDisplayString","_a","_hoisted_4","_component_el_pagination"],"mappings":"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"}