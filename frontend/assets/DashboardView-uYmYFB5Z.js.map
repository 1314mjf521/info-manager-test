{"version":3,"file":"DashboardView-uYmYFB5Z.js","sources":["../../src/views/dashboard/DashboardView.vue"],"sourcesContent":["<template>\r\n  <div class=\"dashboard\">\r\n    <div class=\"dashboard-header\">\r\n      <h1>仪表板</h1>\r\n      <p>欢迎使用信息管理系统</p>\r\n    </div>\r\n\r\n    <!-- 统计卡片 -->\r\n    <el-row :gutter=\"20\" class=\"stats-row\">\r\n      <el-col :span=\"6\">\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-icon\">\r\n              <el-icon size=\"40\" color=\"#409eff\"><Document /></el-icon>\r\n            </div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-number\">{{ stats.totalRecords }}</div>\r\n              <div class=\"stat-label\">总记录数</div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      \r\n      <el-col :span=\"6\">\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-icon\">\r\n              <el-icon size=\"40\" color=\"#67c23a\"><Folder /></el-icon>\r\n            </div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-number\">{{ stats.totalFiles }}</div>\r\n              <div class=\"stat-label\">文件数量</div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      \r\n      <el-col :span=\"6\">\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-icon\">\r\n              <el-icon size=\"40\" color=\"#e6a23c\"><User /></el-icon>\r\n            </div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-number\">{{ stats.totalUsers }}</div>\r\n              <div class=\"stat-label\">用户数量</div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n      \r\n      <el-col :span=\"6\">\r\n        <el-card class=\"stat-card\">\r\n          <div class=\"stat-content\">\r\n            <div class=\"stat-icon\">\r\n              <el-icon size=\"40\" color=\"#f56c6c\"><Download /></el-icon>\r\n            </div>\r\n            <div class=\"stat-info\">\r\n              <div class=\"stat-number\">{{ stats.totalExports }}</div>\r\n              <div class=\"stat-label\">导出任务</div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 最近活动 -->\r\n    <el-row :gutter=\"20\" class=\"content-row\">\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>最近记录</span>\r\n              <el-button type=\"text\" @click=\"$router.push('/records')\">查看全部</el-button>\r\n            </div>\r\n          </template>\r\n          \r\n          <el-table :data=\"recentRecords\" style=\"width: 100%\" v-loading=\"loading\">\r\n            <el-table-column prop=\"title\" label=\"标题\" />\r\n            <el-table-column prop=\"type\" label=\"类型\" width=\"100\" />\r\n            <el-table-column prop=\"status\" label=\"状态\" width=\"80\">\r\n              <template #default=\"{ row }\">\r\n                <el-tag :type=\"getStatusType(row.status)\" size=\"small\">\r\n                  {{ getStatusText(row.status) }}\r\n                </el-tag>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"createdAt\" label=\"创建时间\" width=\"120\">\r\n              <template #default=\"{ row }\">\r\n                {{ formatTime(row.createdAt) }}\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </el-col>\r\n      \r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>\r\n            <div class=\"card-header\">\r\n              <span>系统公告</span>\r\n            </div>\r\n          </template>\r\n          \r\n          <div class=\"announcements\" v-loading=\"loading\">\r\n            <div v-if=\"announcements.length === 0\" class=\"empty-state\">\r\n              <el-empty description=\"暂无公告\" />\r\n            </div>\r\n            <div v-else>\r\n              <div v-for=\"announcement in announcements\" :key=\"announcement.id\" class=\"announcement-item\">\r\n                <div class=\"announcement-header\">\r\n                  <span class=\"announcement-title\">{{ announcement.title }}</span>\r\n                  <el-tag :type=\"getAnnouncementType(announcement.type)\" size=\"small\">\r\n                    {{ announcement.type }}\r\n                  </el-tag>\r\n                </div>\r\n                <div class=\"announcement-content\">{{ announcement.content }}</div>\r\n                <div class=\"announcement-time\">{{ formatTime(announcement.createdAt) }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { Document, Folder, User, Download } from '@element-plus/icons-vue'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { http } from '@/utils/request'\r\nimport dayjs from 'dayjs'\r\n\r\nconst authStore = useAuthStore()\r\nconst loading = ref(false)\r\n\r\n// 统计数据\r\nconst stats = reactive({\r\n  totalRecords: 0,\r\n  totalFiles: 0,\r\n  totalUsers: 0,\r\n  totalExports: 0\r\n})\r\n\r\n// 最近记录\r\nconst recentRecords = ref([])\r\n\r\n// 系统公告\r\nconst announcements = ref([])\r\n\r\n// 获取统计数据\r\nconst fetchStats = async () => {\r\n  try {\r\n    // TODO: 调用实际API\r\n    // const response = await http.get('/dashboard/stats')\r\n    // Object.assign(stats, response)\r\n    \r\n    // 模拟数据\r\n    stats.totalRecords = 156\r\n    stats.totalFiles = 89\r\n    stats.totalUsers = 23\r\n    stats.totalExports = 12\r\n  } catch (error) {\r\n    console.error('获取统计数据失败:', error)\r\n  }\r\n}\r\n\r\n// 获取最近记录\r\nconst fetchRecentRecords = async () => {\r\n  try {\r\n    loading.value = true\r\n    // TODO: 调用实际API\r\n    // const response = await http.get('/records?limit=5&sort=createdAt:desc')\r\n    // recentRecords.value = response.items\r\n    \r\n    // 模拟数据\r\n    recentRecords.value = [\r\n      {\r\n        id: 1,\r\n        title: '测试记录1',\r\n        type: '工作记录',\r\n        status: 'published',\r\n        createdAt: new Date().toISOString()\r\n      },\r\n      {\r\n        id: 2,\r\n        title: '测试记录2',\r\n        type: '学习笔记',\r\n        status: 'draft',\r\n        createdAt: new Date(Date.now() - 86400000).toISOString()\r\n      }\r\n    ]\r\n  } catch (error) {\r\n    console.error('获取最近记录失败:', error)\r\n    ElMessage.error('获取最近记录失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 获取系统公告\r\nconst fetchAnnouncements = async () => {\r\n  try {\r\n    // TODO: 调用实际API\r\n    // const response = await http.get('/announcements?limit=3&status=active')\r\n    // announcements.value = response.items\r\n    \r\n    // 模拟数据\r\n    announcements.value = [\r\n      {\r\n        id: 1,\r\n        title: '系统维护通知',\r\n        content: '系统将于本周末进行维护升级，请提前保存数据。',\r\n        type: 'warning',\r\n        createdAt: new Date().toISOString()\r\n      }\r\n    ]\r\n  } catch (error) {\r\n    console.error('获取系统公告失败:', error)\r\n  }\r\n}\r\n\r\n// 工具函数\r\nconst getStatusType = (status: string) => {\r\n  const statusMap: { [key: string]: string } = {\r\n    draft: 'info',\r\n    published: 'success',\r\n    archived: 'warning'\r\n  }\r\n  return statusMap[status] || 'info'\r\n}\r\n\r\nconst getStatusText = (status: string) => {\r\n  const statusMap: { [key: string]: string } = {\r\n    draft: '草稿',\r\n    published: '已发布',\r\n    archived: '已归档'\r\n  }\r\n  return statusMap[status] || status\r\n}\r\n\r\nconst getAnnouncementType = (type: string) => {\r\n  const typeMap: { [key: string]: string } = {\r\n    info: 'info',\r\n    warning: 'warning',\r\n    error: 'danger',\r\n    success: 'success'\r\n  }\r\n  return typeMap[type] || 'info'\r\n}\r\n\r\nconst formatTime = (time: string) => {\r\n  return dayjs(time).format('MM-DD HH:mm')\r\n}\r\n\r\n// 生命周期\r\nonMounted(() => {\r\n  fetchStats()\r\n  fetchRecentRecords()\r\n  fetchAnnouncements()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard {\r\n  padding: 20px;\r\n}\r\n\r\n.dashboard-header {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.dashboard-header h1 {\r\n  margin: 0 0 8px 0;\r\n  color: #303133;\r\n}\r\n\r\n.dashboard-header p {\r\n  margin: 0;\r\n  color: #909399;\r\n}\r\n\r\n.stats-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-card {\r\n  height: 120px;\r\n}\r\n\r\n.stat-content {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n}\r\n\r\n.stat-icon {\r\n  margin-right: 20px;\r\n}\r\n\r\n.stat-info {\r\n  flex: 1;\r\n}\r\n\r\n.stat-number {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: #303133;\r\n  line-height: 1;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 14px;\r\n  color: #909399;\r\n}\r\n\r\n.content-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.announcements {\r\n  min-height: 200px;\r\n}\r\n\r\n.announcement-item {\r\n  padding: 12px 0;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.announcement-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.announcement-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.announcement-title {\r\n  font-weight: 500;\r\n  color: #303133;\r\n}\r\n\r\n.announcement-content {\r\n  color: #606266;\r\n  font-size: 14px;\r\n  margin-bottom: 8px;\r\n  line-height: 1.5;\r\n}\r\n\r\n.announcement-time {\r\n  color: #c0c4cc;\r\n  font-size: 12px;\r\n}\r\n\r\n.empty-state {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 200px;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .stats-row .el-col {\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .content-row .el-col {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>"],"names":["useAuthStore","loading","ref","stats","reactive","recentRecords","announcements","fetchStats","error","fetchRecentRecords","ElMessage","fetchAnnouncements","getStatusType","status","getStatusText","getAnnouncementType","type","formatTime","time","dayjs","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_el_row","_component_el_col","_component_el_card","_hoisted_2","_hoisted_3","_component_el_icon","_unref","Document","_hoisted_4","_hoisted_5","_toDisplayString","_cache","_hoisted_6","_hoisted_7","Folder","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","User","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","Download","_hoisted_16","_hoisted_17","_hoisted_18","_component_el_button","$event","$router","_createBlock","_component_el_table","_component_el_table_column","_withCtx","row","_component_el_tag","_withDirectives","_hoisted_19","_hoisted_20","_component_el_empty","_hoisted_21","_Fragment","_renderList","announcement","_hoisted_22","_hoisted_23","_createTextVNode","_hoisted_24","_hoisted_25"],"mappings":"irCAuIkBA,EAAA,EAClB,MAAMC,EAAUC,EAAI,EAAK,EAGnBC,EAAQC,EAAS,CACrB,aAAc,EACd,WAAY,EACZ,WAAY,EACZ,aAAc,CAAA,CACf,EAGKC,EAAgBH,EAAI,EAAE,EAGtBI,EAAgBJ,EAAI,EAAE,EAGtBK,EAAa,SAAY,CAC7B,GAAI,CAMFJ,EAAM,aAAe,IACrBA,EAAM,WAAa,GACnBA,EAAM,WAAa,GACnBA,EAAM,aAAe,EACvB,OAASK,EAAO,CACd,QAAQ,MAAM,YAAaA,CAAK,CAClC,CACF,EAGMC,EAAqB,SAAY,CACrC,GAAI,CACFR,EAAQ,MAAQ,GAMhBI,EAAc,MAAQ,CACpB,CACE,GAAI,EACJ,MAAO,QACP,KAAM,OACN,OAAQ,YACR,UAAW,IAAI,KAAA,EAAO,YAAA,CAAY,EAEpC,CACE,GAAI,EACJ,MAAO,QACP,KAAM,OACN,OAAQ,QACR,UAAW,IAAI,KAAK,KAAK,MAAQ,KAAQ,EAAE,YAAA,CAAY,CACzD,CAEJ,OAASG,EAAO,CACd,QAAQ,MAAM,YAAaA,CAAK,EAChCE,EAAU,MAAM,UAAU,CAC5B,QAAA,CACET,EAAQ,MAAQ,EAClB,CACF,EAGMU,EAAqB,SAAY,CACrC,GAAI,CAMFL,EAAc,MAAQ,CACpB,CACE,GAAI,EACJ,MAAO,SACP,QAAS,yBACT,KAAM,UACN,UAAW,IAAI,KAAA,EAAO,YAAA,CAAY,CACpC,CAEJ,OAASE,EAAO,CACd,QAAQ,MAAM,YAAaA,CAAK,CAClC,CACF,EAGMI,EAAiBC,IACwB,CAC3C,MAAO,OACP,UAAW,UACX,SAAU,SAAA,GAEKA,CAAM,GAAK,OAGxBC,EAAiBD,IACwB,CAC3C,MAAO,KACP,UAAW,MACX,SAAU,KAAA,GAEKA,CAAM,GAAKA,EAGxBE,EAAuBC,IACgB,CACzC,KAAM,OACN,QAAS,UACT,MAAO,SACP,QAAS,SAAA,GAEIA,CAAI,GAAK,OAGpBC,EAAcC,GACXC,EAAMD,CAAI,EAAE,OAAO,aAAa,EAIzC,OAAAE,EAAU,IAAM,CACdb,EAAA,EACAE,EAAA,EACAE,EAAA,CACF,CAAC,wDArQC,OAAAU,EAAA,EAAAC,EA2HM,MA3HNC,GA2HM,aA1HJC,EAGM,MAAA,CAHD,MAAM,oBAAkB,CAC3BA,EAAY,UAAR,KAAG,EACPA,EAAiB,SAAd,YAAU,CAAA,OAIfC,EAwDSC,EAAA,CAxDA,OAAQ,GAAI,MAAM,WAAA,aACzB,IAYS,CAZTD,EAYSE,EAAA,CAZA,KAAM,GAAC,WACd,IAUU,CAVVF,EAUUG,EAAA,CAVD,MAAM,aAAW,WACxB,IAQM,CARNJ,EAQM,MARNK,GAQM,CAPJL,EAEM,MAFNM,GAEM,CADJL,EAAyDM,EAAA,CAAhD,KAAK,KAAK,MAAM,SAAA,aAAU,IAAY,CAAZN,EAAYO,EAAAC,CAAA,CAAA,CAAA,WAEjDT,EAGM,MAHNU,GAGM,CAFJV,EAAuD,MAAvDW,GAAuDC,EAA3BjC,EAAM,YAAY,EAAA,CAAA,EAC9CkC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAkC,MAAA,CAA7B,MAAM,cAAa,OAAI,EAAA,EAAA,qBAMpCC,EAYSE,EAAA,CAZA,KAAM,GAAC,WACd,IAUU,CAVVF,EAUUG,EAAA,CAVD,MAAM,aAAW,WACxB,IAQM,CARNJ,EAQM,MARNc,GAQM,CAPJd,EAEM,MAFNe,GAEM,CADJd,EAAuDM,EAAA,CAA9C,KAAK,KAAK,MAAM,SAAA,aAAU,IAAU,CAAVN,EAAUO,EAAAQ,CAAA,CAAA,CAAA,WAE/ChB,EAGM,MAHNiB,GAGM,CAFJjB,EAAqD,MAArDkB,GAAqDN,EAAzBjC,EAAM,UAAU,EAAA,CAAA,EAC5CkC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAkC,MAAA,CAA7B,MAAM,cAAa,OAAI,EAAA,EAAA,qBAMpCC,EAYSE,EAAA,CAZA,KAAM,GAAC,WACd,IAUU,CAVVF,EAUUG,EAAA,CAVD,MAAM,aAAW,WACxB,IAQM,CARNJ,EAQM,MARNmB,GAQM,CAPJnB,EAEM,MAFNoB,GAEM,CADJnB,EAAqDM,EAAA,CAA5C,KAAK,KAAK,MAAM,SAAA,aAAU,IAAQ,CAARN,EAAQO,EAAAa,CAAA,CAAA,CAAA,WAE7CrB,EAGM,MAHNsB,GAGM,CAFJtB,EAAqD,MAArDuB,GAAqDX,EAAzBjC,EAAM,UAAU,EAAA,CAAA,EAC5CkC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAkC,MAAA,CAA7B,MAAM,cAAa,OAAI,EAAA,EAAA,qBAMpCC,EAYSE,EAAA,CAZA,KAAM,GAAC,WACd,IAUU,CAVVF,EAUUG,EAAA,CAVD,MAAM,aAAW,WACxB,IAQM,CARNJ,EAQM,MARNwB,GAQM,CAPJxB,EAEM,MAFNyB,GAEM,CADJxB,EAAyDM,EAAA,CAAhD,KAAK,KAAK,MAAM,SAAA,aAAU,IAAY,CAAZN,EAAYO,EAAAkB,CAAA,CAAA,CAAA,WAEjD1B,EAGM,MAHN2B,GAGM,CAFJ3B,EAAuD,MAAvD4B,GAAuDhB,EAA3BjC,EAAM,YAAY,EAAA,CAAA,EAC9CkC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAkC,MAAA,CAA7B,MAAM,cAAa,OAAI,EAAA,EAAA,6BAQtCC,EAwDSC,EAAA,CAxDA,OAAQ,GAAI,MAAM,aAAA,aACzB,IA0BS,CA1BTD,EA0BSE,EAAA,CA1BA,KAAM,IAAE,WACf,IAwBU,CAxBVF,EAwBUG,EAAA,KAAA,CAvBG,SACT,IAGM,CAHNJ,EAGM,MAHN6B,GAGM,CAFJhB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAb,EAAiB,YAAX,OAAI,EAAA,GACVC,EAAyE6B,EAAA,CAA9D,KAAK,OAAQ,QAAKjB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAkB,GAAEC,EAAAA,QAAQ,KAAI,UAAA,EAAA,aAAc,IAAI,CAAA,GAAAnB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAJ,OAAI,EAAA,CAAA,yBAIjE,IAeW,QAfXoB,GAeWC,EAAA,CAfA,KAAMrD,EAAA,MAAe,MAAA,CAAA,MAAA,MAAA,CAAA,aAC9B,IAA2C,CAA3CoB,EAA2CkC,EAAA,CAA1B,KAAK,QAAQ,MAAM,IAAA,GACpClC,EAAsDkC,EAAA,CAArC,KAAK,OAAO,MAAM,KAAK,MAAM,KAAA,GAC9ClC,EAMkBkC,EAAA,CAND,KAAK,SAAS,MAAM,KAAK,MAAM,IAAA,GACnC,QAAOC,EAChB,CAES,CAHW,IAAAC,KAAG,CACvBpC,EAESqC,EAAA,CAFA,KAAMlD,EAAciD,EAAI,MAAM,EAAG,KAAK,OAAA,aAC7C,IAA+B,KAA5B/C,EAAc+C,EAAI,MAAM,CAAA,EAAA,CAAA,CAAA,+BAIjCpC,EAIkBkC,EAAA,CAJD,KAAK,YAAY,MAAM,OAAO,MAAM,KAAA,GACxC,QAAOC,EAChB,CAA+B,CADX,IAAAC,KAAG,KACpB5C,EAAW4C,EAAI,SAAS,CAAA,EAAA,CAAA,CAAA,iCAZ8B5D,EAAA,KAAO,CAAA,mBAmB1EwB,EA0BSE,EAAA,CA1BA,KAAM,IAAE,WACf,IAwBU,CAxBVF,EAwBUG,EAAA,KAAA,CAvBG,SACT,IAEM,CAAA,GAAAS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFNb,EAEM,MAAA,CAFD,MAAM,eAAa,CACtBA,EAAiB,YAAX,MAAI,CAAA,oBAId,IAgBM,CAhBNuC,GAAA1C,EAAA,EAAAC,EAgBM,MAhBN0C,GAgBM,CAfO1D,EAAA,MAAc,SAAM,GAA/Be,IAAAC,EAEM,MAFN2C,GAEM,CADJxC,EAA+ByC,EAAA,CAArB,YAAY,OAAM,CAAA,SAE9B5C,EAWM,MAAA6C,GAAA,QAVJ7C,EASM8C,GAAA,KAAAC,GATsB/D,EAAA,MAAhBgE,QAAZhD,EASM,MAAA,CATsC,IAAKgD,EAAa,GAAI,MAAM,mBAAA,GACtE9C,EAKM,MALN+C,GAKM,CAJJ/C,EAAgE,OAAhEgD,GAAgEpC,EAA5BkC,EAAa,KAAK,EAAA,CAAA,EACtD7C,EAESqC,EAAA,CAFA,KAAM/C,EAAoBuD,EAAa,IAAI,EAAG,KAAK,OAAA,aAC1D,IAAuB,CAApBG,EAAArC,EAAAkC,EAAa,IAAI,EAAA,CAAA,CAAA,yBAGxB9C,EAAkE,MAAlEkD,GAAkEtC,EAA7BkC,EAAa,OAAO,EAAA,CAAA,EACzD9C,EAA6E,MAA7EmD,GAA6EvC,EAA3CnB,EAAWqD,EAAa,SAAS,CAAA,EAAA,CAAA,CAAA,qBAbnCrE,EAAA,KAAO,CAAA"}