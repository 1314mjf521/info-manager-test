/* empty css                  *//* empty css                *//* empty css                   *//* empty css                 */import{y as Y,r as E,l as k,h as H,z as J,R as e,J as a,B as _,K,O as s,I as Q,P as f,u as q,aB as G,A as V}from"./vendor-CjKLjCsc.js";import{F as W,E as y,b as X,c as Z,d as ee,P as te,Q as ae,e as le,J as oe,K as se,L as ne,R as re,k as de,S as ie,A as ue,N as pe,O as ce}from"./element-DWu_pZyV.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-DtZYWtiR.js";const _e={class:"record-list"},fe={class:"card-header"},ge={class:"search-bar"},be={class:"pagination"},ye=Y({__name:"RecordListView",setup(he){const g=G(),b=E(!1),h=E([]),r=k({title:"",type:"",status:""}),n=k({page:1,size:20,total:0}),p=async()=>{b.value=!0;try{h.value=[{id:1,title:"项目需求分析文档",type:"project",status:"published",creator:{username:"admin"},createdAt:new Date().toISOString()},{id:2,title:"学习Vue3笔记",type:"study",status:"draft",creator:{username:"user1"},createdAt:new Date(Date.now()-864e5).toISOString()},{id:3,title:"周工作总结",type:"work",status:"published",creator:{username:"user2"},createdAt:new Date(Date.now()-1728e5).toISOString()}],n.total=3}catch(o){console.error("获取记录列表失败:",o),y.error("获取记录列表失败")}finally{b.value=!1}},v=()=>{n.page=1,p()},z=()=>{Object.assign(r,{title:"",type:"",status:""}),v()},S=()=>{g.push("/records/create")},x=o=>{g.push(`/records/${o.id}`)},D=o=>{g.push(`/records/${o.id}/edit`)},M=async o=>{try{await ue.confirm("确定要删除这条记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),y.success("删除成功"),p()}catch(t){t!=="cancel"&&(console.error("删除记录失败:",t),y.error("删除记录失败"))}},T=o=>{n.size=o,p()},B=o=>{n.page=o,p()},I=o=>({work:"工作记录",study:"学习笔记",project:"项目文档",other:"其他"})[o]||o,A=o=>({draft:"info",published:"success",archived:"warning"})[o]||"info",O=o=>({draft:"草稿",published:"已发布",archived:"已归档"})[o]||o,R=o=>pe(o).format("YYYY-MM-DD HH:mm");return H(()=>{p()}),(o,t)=>{const j=de,u=le,U=ee,m=Z,i=ae,w=te,$=X,d=se,C=ne,F=ce,L=re,N=W,P=oe;return V(),J("div",_e,[e(N,null,{header:a(()=>[_("div",fe,[t[6]||(t[6]=_("span",null,"记录管理",-1)),e(u,{type:"primary",onClick:S},{default:a(()=>[e(j,null,{default:a(()=>[e(q(ie))]),_:1}),t[5]||(t[5]=s(" 新建记录 ",-1))]),_:1})])]),default:a(()=>[_("div",ge,[e($,{model:r,inline:""},{default:a(()=>[e(m,{label:"标题"},{default:a(()=>[e(U,{modelValue:r.title,"onUpdate:modelValue":t[0]||(t[0]=l=>r.title=l),placeholder:"请输入记录标题",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"类型"},{default:a(()=>[e(w,{modelValue:r.type,"onUpdate:modelValue":t[1]||(t[1]=l=>r.type=l),placeholder:"请选择记录类型",clearable:""},{default:a(()=>[e(i,{label:"工作记录",value:"work"}),e(i,{label:"学习笔记",value:"study"}),e(i,{label:"项目文档",value:"project"}),e(i,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"状态"},{default:a(()=>[e(w,{modelValue:r.status,"onUpdate:modelValue":t[2]||(t[2]=l=>r.status=l),placeholder:"请选择状态",clearable:""},{default:a(()=>[e(i,{label:"草稿",value:"draft"}),e(i,{label:"已发布",value:"published"}),e(i,{label:"已归档",value:"archived"})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(u,{type:"primary",onClick:v},{default:a(()=>[...t[7]||(t[7]=[s("搜索",-1)])]),_:1}),e(u,{onClick:z},{default:a(()=>[...t[8]||(t[8]=[s("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),K((V(),Q(F,{data:h.value,stripe:""},{default:a(()=>[e(d,{type:"selection",width:"55"}),e(d,{prop:"id",label:"ID",width:"80"}),e(d,{prop:"title",label:"标题","min-width":"200","show-overflow-tooltip":""}),e(d,{prop:"type",label:"类型",width:"120"},{default:a(({row:l})=>[e(C,null,{default:a(()=>[s(f(I(l.type)),1)]),_:2},1024)]),_:1}),e(d,{prop:"status",label:"状态",width:"100"},{default:a(({row:l})=>[e(C,{type:A(l.status)},{default:a(()=>[s(f(O(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(d,{prop:"creator",label:"创建者",width:"120"},{default:a(({row:l})=>{var c;return[s(f(((c=l.creator)==null?void 0:c.username)||"-"),1)]}),_:1}),e(d,{prop:"createdAt",label:"创建时间",width:"160"},{default:a(({row:l})=>[s(f(R(l.createdAt)),1)]),_:1}),e(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:l})=>[e(u,{size:"small",onClick:c=>x(l)},{default:a(()=>[...t[9]||(t[9]=[s("查看",-1)])]),_:1},8,["onClick"]),e(u,{size:"small",onClick:c=>D(l)},{default:a(()=>[...t[10]||(t[10]=[s("编辑",-1)])]),_:1},8,["onClick"]),e(u,{size:"small",type:"danger",onClick:c=>M(l)},{default:a(()=>[...t[11]||(t[11]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[P,b.value]]),_("div",be,[e(L,{"current-page":n.page,"onUpdate:currentPage":t[3]||(t[3]=l=>n.page=l),"page-size":n.size,"onUpdate:pageSize":t[4]||(t[4]=l=>n.size=l),total:n.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:T,onCurrentChange:B},null,8,["current-page","page-size","total"])])]),_:1})])}}}),xe=me(ye,[["__scopeId","data-v-f3df6fdd"]]);export{xe as default};
//# sourceMappingURL=RecordListView-CCHAUAXq.js.map
